function IsQueryObjectPreview(){return void 0!=window.external&&void 0!=window.external.SendText}function IsDashboardEdit(){return"undefined"!==typeof UCDashboardForEditor}function UpdateQueryObjectPreview(a){for(var c=Object.keys(qv.collection)[0],c=qv.collection[c],a=JSON.parse(a),e=Object.keys(a),b=0;b<e.length;b++){var d=e[b];c[d]=a[d]}c.realShow()}var qv={collection:{},fadeTimeouts:{}};
qv.util={color:{getHtmlColor:function(a){return"string"==typeof a||"number"==typeof a?gx.color.toHex?-1==a?"":"#"+gx.color.toHex(a):"#"+gxToHex(a):void 0==a?"#000000":a.Html},parseCSSColor:function(a){return"rgb"==a.substring(0,3)?(a=a.replace("rgb","").replace("(","").replace(")","").split(","),this.getHtmlColor(gx.color.rgb(parseInt(a[0]),parseInt(a[1]),parseInt(a[2])))):a},convertValueToColor:function(a){a=-1==a.indexOf("#")?"#"+a:a;for(a=a.substring(1,a.length);6>a.length;)a="0"+a;return"#"+a}},
css:function(){var a={};return{replaceCssClasses:function(c){for(;0<=(posIni=c.indexOf("gxpl_cssReplace("));){posFin=c.indexOf(")",posIni);className=c.substring(posIni+16,posFin);var e=className;if(void 0!=a[e])style=a[e];else{for(var b=e,d=void 0,v=gx.theme+".css",u=!1,g=void 0,h=0;h<document.styleSheets.length;h++)if(null!=document.styleSheets[h].href&&0<=document.styleSheets[h].href.indexOf(v)){u=!0;d=document.styleSheets[h];break}u&&(d.cssRules?crossRules=d.cssRules:d.rules&&(crossRules=d.rules));
d=Number.MAX_SAFE_INTEGER;for(h=0;h<crossRules.length;h++)v=crossRules[h],void 0!=v.selectorText&&(0==v.selectorText.toLowerCase().indexOf("."+b.toLowerCase())&&v.selectorText.length<d)&&(g=v.style,d=v.selectorText.length);styleObj=g;void 0!=styleObj?(b=styleObj,g="",""!=b.color&&(g+=(""==g?"":";")+"color:"+qv.util.color.parseCSSColor(b.color)),""!=b.backgroundColor&&(g+=(""==g?"":";")+"backgroundColor:"+qv.util.color.parseCSSColor(b.backgroundColor)),""!=b.borderStyle&&(g+=(""==g?"":";")+"borderStyle:"+
b.borderStyle),""!=b.borderWidth&&(g+=(""==g?"":";")+"borderThickness:"+b.borderWidth.replace("pt","").replace("px","")),""!=b.borderColor&&(g+=(""==g?"":";")+"borderColor:"+qv.util.color.parseCSSColor(b.borderColor)),""!=b.fontFamily&&(g+=(""==g?"":";")+"fontFamily:"+b.fontFamily.replace(/"/g,"").replace(/'/g,"")),""!=b.fontSize&&(g+=(""==g?"":";")+"fontSize:"+b.fontSize.replace("pt","").replace("px","")),""!=b.fontWeight&&(g+=(""==g?"":";")+"fontWeight:"+b.fontWeight),""!=b.fontStyle&&(g+=(""==
g?"":";")+"fontStyle:"+b.fontStyle),""!=b.textDecoration&&(g+=(""==g?"":";")+"textDecoration:"+b.textDecoration),styleTransformed=g,style=a[e]=styleTransformed):style=""}toReplace=c.substring(posIni,posFin+1);c=c.replace(toReplace,style)}return c},parseStyle:function(a){var e="";if(""!=a&&void 0!=a){if(0>a.indexOf(":"))return a;for(var a=a.split(";"),b=0;b<a.length;b++)var d=a[b].split(":"),v=d[0],e=e+((""==e?"":",")+'"'+("borderThickness"==v?"borderWidth":v)+'":"'+d[1]+("borderThickness"==v||"fontSize"==
v?"px":"")+'"');return"{"+e+"}"}return"{}"}}}(),autorefresh:function(){return{UpdateLayoutSameGroup:function(a,c){function e(a,b,c){function v(a,f){function d(a,f,b){for(var k=0;k<a.length;k++){var c=a[k];if(c[f]==b)return c}return null}var b=d(a.Metadata.Axes,"Name",f);null==b&&(b=d(a.Metadata.Data,"Name",f));return b}function f(a,f){for(var d=null,b=0;b<a.Axes.length;b++)if(a.Axes[b].Name==f){d=a.Axes[b];break}return d}function k(a,f){void 0==f.Title&&(f.Title="");void 0==f.Visible&&(f.Visible=
!0);void 0==f.Aggregation&&(f.Aggregation="");void 0==f.AxisOrder&&(f.AxisOrder={Type:"None"});void 0==f.Format&&(f.Format={Subtotals:"Yes",CanDragToPages:!0});void 0==f.Actions&&(f.Actions={RaiseItemClick:!0});qv.util.MergeFields(f,a)}function r(a,f){for(var d=0;d<a.Metadata.Parameters.length;d++){var b=a.Metadata.Parameters[d];if(b.IsCollection&&b.Name==f)return[d,b]}return[null,null]}function e(a,f){for(var d=null,b=0;b<a.Parameters.length;b++)if(a.Parameters[b].Name==f){d=a.Parameters[b];break}return d}
function p(a,f){for(var d="",b="I"==f.Type||"R"==f.Type||"B"==f.Type?"":'"',k=0;k<a.Filter.Values.length;k++)d+=(""==d?"":",")+b+a.Filter.Values[k]+b;return"["+d+"]"}var o=[];a._parametersCloned||(a._parametersCloned=!0,a.Parameters=qv.util.cloneObject(a.Parameters));for(var x=qv.util.GetOrderedAxesKeys(d),s=0;s<x.length;s++){var F=parseInt(x[s].substr(5,4));sourceAxis=b[F];var A=r(a,sourceAxis.Name),F=A[0],A=A[1],I=v(a,sourceAxis.Name),z=null!=I,m=!z;z&&(z=f(a,sourceAxis.Name),null==z&&(z={},z.Name=
sourceAxis.Name),"Table"==c&&("Table"!=a.RealType&&"Row"==sourceAxis.AxisType&&"Hidden"!=I.AxisType)&&(sourceAxis.AxisType=qv.util.ToQueryViewerAxisType(I.AxisType)),k(sourceAxis,z),o.push(z));m&&null!=A&&(A=p(sourceAxis,A),a.Object?(I=eval(a.Object),I[F+2]=A,a.Object=JSON.stringify(I)):(F=e(a,sourceAxis.Name),null==F&&(F={},F.Name=sourceAxis.Name,a.Parameters.push(F)),F.Value=A))}a.Axes=o}function b(a,d,b){e(a,d,b);a.RememberLayout=!1;a.AllowChangeAxesOrder=!0;qv.util.autorefresh.SaveAxesAndParametersState(a);
a.realShow()}if(void 0!=a.AutoRefreshGroup&&null!=a.AutoRefreshGroup&&""!=a.AutoRefreshGroup&&""!=qv.util.trim(a.AutoRefreshGroup)){qv.util.autorefresh.DeleteAxesAndParametersState(a);var d=qv.pivot.GetRuntimeMetadata(c,a.RealType),v=a.RealType;for(index in qv.collection)qViewerOther=qv.collection[index],qv.services.IsObjectSet(qViewerOther)&&(qViewerOther.userControlId()!=a.userControlId()&&a.AutoRefreshGroup==qViewerOther.AutoRefreshGroup)&&(qViewerOther._isAutorefresh=!0,void 0!=qViewerOther.Metadata&&
void 0!=qViewerOther.Metadata.Parameters?b(qViewerOther,d,v):qViewerOther.getQueryParameters(function(a,c){var e=qv.util.dom.xmlDocument(a),e=qv.util.dom.getSingleElementByTagName(e,"gxpl_ParameterCollection");void 0==c.Metadata&&(c.Metadata={});c.Metadata.Parameters=[];for(var e=qv.util.dom.getMultipleElementsByTagName(e,"gxpl_Parameter"),n=0;n<e.length;n++){var f={};f.Name=qv.util.dom.getValueNode(qv.util.dom.getSingleElementByTagName(e[n],"Name"));f.Type=qv.util.dom.getValueNode(qv.util.dom.getSingleElementByTagName(e[n],
"Type"));f.IsCollection=gx.lang.gxBoolean(qv.util.dom.getValueNode(qv.util.dom.getSingleElementByTagName(e[n],"IsCollection")));c.Metadata.Parameters.push(f)}b(c,d,v)}))}},LoadAxesAndParametersState:function(a){var c=window.location.pathname+"_"+a.userControlId()+"_"+a.ObjectId+"_"+a.ObjectName+"_",e=c+"Axes",c=qv.util.storage.getItem(c+"Parameters"),e=qv.util.storage.getItem(e);null!=c&&""!=c&&(a.Parameters=JSON.parse(c),a.RememberLayout=!1);null!=e&&""!=e&&(a.Axes=JSON.parse(e),a.RememberLayout=
!1)},SaveAxesAndParametersState:function(a){var c=window.location.pathname+"_"+a.userControlId()+"_"+a.ObjectId+"_"+a.ObjectName+"_",e=c+"Axes";qv.util.storage.setItem(c+"Parameters",JSON.stringify(a.Parameters));qv.util.storage.setItem(e,JSON.stringify(a.Axes))},DeleteAxesAndParametersState:function(a){var a=window.location.pathname+"_"+a.userControlId()+"_"+a.ObjectId+"_"+a.ObjectName+"_",c=a+"Axes";qv.util.storage.removeItem(a+"Parameters");qv.util.storage.removeItem(c)}}}(),dom:{getSingleElementByTagName:function(a,
c){var e;e=this.getMultipleElementsByTagName(a,c);return 0<e.length?e[0]:null},getMultipleElementsByTagName:function(a,c){return!gx.util.browser.isIE()||12<=gx.util.browser.ieVersion()?a.getElementsByTagName(c):a.selectNodes(c)},getBooleanAttribute:function(a,c,e){a=a.getAttribute(c);return null==a?e:"true"==a.toLowerCase()},getValueNode:function(a){return null==a||void 0==a?null:null!=a.firstChild&&void 0!=a.firstChild?a.firstChild.nodeValue:null},selectXPathNode:function(a,c){var e;a.evaluate?(e=
a.evaluate(c,a,null,XPathResult.ANY_TYPE,null),e=e.iterateNext()):(e=a.selectNodes(c),e=0<e.length?e[0]:null);return e},xmlDocument:function(a){var c;!gx.util.browser.isIE()||12<=gx.util.browser.ieVersion()?(parser=new DOMParser,c=parser.parseFromString(a,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a));return c},getEmptyContainer:function(a){for(a=a.getContainerControl();a.firstChild;)a.removeChild(a.firstChild);return a},setStyle:function(a,c){for(key in c)a.style[key]=
c[key]},createText:function(a,c){var e=document.createTextNode(c);a.appendChild(e);return e},createElement:function(a,c,e,b,d,v,u){c=document.createElement(c);""!=e&&(c.id=e);""!=b&&(c.className=b);qv.util.dom.setStyle(c,d);"function"==typeof v&&(c.onclick=v);""!=u&&qv.util.dom.createText(c,u);null!=a&&a.appendChild(c);return c},createTable:function(a,c,e){a=qv.util.dom.createElement(a,"TABLE","",c,e,null,"");c=document.createElement("TBODY");a.appendChild(c);return c},createRow:function(a){return qv.util.dom.createElement(a,
"TR","","",{},null,"")},createCell:function(a,c,e,b,d){a=qv.util.dom.createElement(a,"TD","","",b,null,d);1!=c&&(a.colSpan=c);""!=e&&(a.align=e);return a},createSpan:function(a,c,e,b,d,v,u){a=qv.util.dom.createElement(a,"SPAN",c,e,d,v,u);""!=b&&(a.title=b);return a},createDiv:function(a,c,e,b,d,v){a=qv.util.dom.createElement(a,"DIV",c,e,d,null,v);""!=b&&(a.title=b);return a},createAnchor:function(a,c,e,b){return qv.util.dom.createElement(a,"A",c,"",e,null,b)},createInput:function(a,c,e,b){a=qv.util.dom.createElement(a,
"INPUT",c,"",b,null,"");""!=e&&(a.type=e);return a},createSelect:function(a,c){return qv.util.dom.createElement(a,"SELECT",c,"",{},null,"")},createOption:function(a,c,e,b){a=qv.util.dom.createElement(a,"OPTION","","",{},null,b);""!=c&&(a.value=c);e&&(a.selected=!0);return a},createIcon:function(a,c,e,b){a=qv.util.dom.createElement(a,"I","","material-icons",e,null,b);""!=c&&(a.title=c);return a}},storage:function(){function a(a,e,b){if(b){var d=new Date;d.setTime(d.getTime()+864E5*b);b="; expires="+
d.toGMTString()}else b="";document.cookie=a+"="+e+b+"; path=/"}return{setItem:function(c,e){localStorage?localStorage.setItem(c,e):a(c,e,365)},getItem:function(a){if(localStorage)return localStorage.getItem(a);a:{for(var a=a+"=",e=document.cookie.split(";"),b=0;b<e.length;b++){for(var d=e[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a)){a=d.substring(a.length,d.length);break a}}a=null}return a},removeItem:function(c){localStorage?localStorage.removeItem(c):a(c,"",-1)}}}(),ExecuteTracker:function(a,
c){for(var e=[],b=0;b<gx.fx.ctx.trackers.length;b++)gx.fx.ctx.trackers[b].types[0]==a&&(e[e.length]=gx.fx.ctx.trackers[b]);for(b=0;b<e.length;b++){var d=gx.O;gx.O=e[b].obj;var v=gx.csv.cmpCtx;gx.csv.cmpCtx=e[b].obj.CmpContext;gx.evt.setProcessing(!1);e[b].hdl.call(e[b].obj,null,null,c);gx.O=d;gx.csv.cmpCtx=v}},satisfyStyle:function(a,c){switch(c.Operator){case "EQ":return a==c.Value1;case "GT":return a>c.Value1;case "LT":return a<c.Value1;case "GE":return a>=c.Value1;case "LE":return a<=c.Value1;
case "NE":return a!=c.Value1;case "IN":return a>=c.Value1&&a<=c.Value2}},isGeneXusPreview:function(){return IsQueryObjectPreview()},getGenerator:function(){return gx.gen.isDotNet()?"C#":gx.gen.isJava()?"Java":""},getErrorFromText:function(a){return'<Result OK="True"></Result>'==a?"":a.replace('<Result OK="False"><Dsc>',"").replace("</Dsc></Result>","")},trim:function(a){return"string"!=typeof a?null:a.replace(/^[\s]+/,"").replace(/[\s]+$/,"").replace(/[\s]{2,}/," ")},capitalize:function(a){return a.charAt(0).toUpperCase()+
a.slice(1)},decapitalize:function(a){return a.charAt(0).toLowerCase()+a.slice(1)},dateToString:function(a,c){var e=a.getStringWithFmt("Y4MD").replace(/\//g,"-");c&&(a.TimeFmt=24,e+=" "+a.getTimeString(!0,!0));return e},cloneObject:function(a){return JSON.parse(JSON.stringify(a))},endsWith:function(a,c){return a.substr(a.length-c.length,c.length)==c},startsWith:function(a,c){return a.substr(0,c.length)==c},formatNumber:function(a,c,e,b){a=gx.num.formatNumber(a,c,e,0,!0,!1);if(b&&(0<=a.indexOf(".")||
0<=a.indexOf(","))){for(;qv.util.endsWith(a,"0");)a=a.slice(0,-1);if(qv.util.endsWith(a,".")||qv.util.endsWith(a,","))a=a.slice(0,-1)}return a},formatDateTime:function(a,c,e,b,d,v,u){a=new gx.date.gxdate(a,"Y4MD");e=a.getStringWithFmt(e);"datetime"==c&&(a.TimeFmt=24,e+=" "+a.getTimeString(d,v,b,u));return e},seconsdToText:function(a){return 60>a?qv.util.formatNumber(Math.round(a),0,"ZZZZZZZZZZZZZZ9",!1)+" "+qv.util.decapitalize(gx.getMessage("GXPL_QViewerSeconds")):3600>a?qv.util.formatNumber(Math.round(a/
60),0,"ZZZZZZZZZZZZZZ9",!1)+" "+qv.util.decapitalize(gx.getMessage("GXPL_QViewerMinutes")):86400>a?qv.util.formatNumber(Math.round(a/60/60),0,"ZZZZZZZZZZZZZZ9",!1)+" "+qv.util.decapitalize(gx.getMessage("GXPL_QViewerHours")):2630016>a?qv.util.formatNumber(Math.round(a/60/60/24),0,"ZZZZZZZZZZZZZZ9",!1)+" "+qv.util.decapitalize(gx.getMessage("GXPL_QViewerDays")):31557600>a?qv.util.formatNumber(Math.round(a/60/60/24/30.44),0,"ZZZZZZZZZZZZZZ9",!1)+" "+qv.util.decapitalize(gx.getMessage("GXPL_QViewerMonths")):
qv.util.formatNumber(Math.round(a/60/60/24/365.25),0,"ZZZZZZZZZZZZZZ9",!1)+" "+qv.util.decapitalize(gx.getMessage("GXPL_QViewerYears"))},ParseNumericPicture:function(a,c){var e,b,d="",v="";if(""==c)e="integer"==a?0:2,b=!1;else{0>c.indexOf(".")&&0>c.indexOf(",")?(e=0,b=!1):0<=c.indexOf(".")&&0>c.indexOf(",")?(e="integer"==a?0:c.length-c.indexOf(".")-1,b=!1):(e=0>c.indexOf(".")&&0<=c.indexOf(",")?0:"integer"==a?0:c.length-c.indexOf(".")-1,b=!0);for(var u=1,g=0;g<c.length;g++){var h=c.substr(g,1);if(("."==
h||","==h||"9"==h||"Z"==h)&&1==u)u=2;"."!=h&&(","!=h&&"9"!=h&&"Z"!=h)&&2==u&&(u=3);switch(u){case 1:d+=h;break;case 3:v+=h}}}return{DecimalPrecision:e,UseThousandsSeparator:b,Prefix:d,Suffix:v}},ParseDateTimePicture:function(a,c){var e=gx.dateFormat,b="datetime"==a,d="datetime"==a,v="datetime"==a,u="datetime"==a;""!=c&&(0<=c.indexOf("9999")&&0>e.indexOf("Y4")?e=e.replace("Y","Y4"):0>c.indexOf("9999")&&0<=e.indexOf("Y4")&&(e=e.replace("Y4","Y")),"datetime"==a&&(b=c.indexOf(" "),0<=b?(u=c.substr(b+
1,c.length-b),b=2<=u.length,d=5<=u.length,v=8<=u.length,u=12==u.length):u=v=d=b=!1));return{DateFormat:e,IncludeHours:b,IncludeMinutes:d,IncludeSeconds:v,IncludeMilliseconds:u}},aggregate:function(a,c,e){var b=null,d=null,v=null,u=null;switch(a||"Sum"){case "Sum":for(a=0;a<c.length;a++)null!=c[a]&&(b+=c[a]);return b;case "Average":for(a=0;a<c.length;a++)null!=c[a]&&(b+=c[a],d+=e[a]);return null!=b?b/d:null;case "Count":for(a=0;a<e.length;a++)d+=e[a];return d;case "Max":for(a=0;a<c.length;a++)u=null==
u?c[a]:c[a]>u?c[a]:u;return u;case "Min":for(a=0;a<c.length;a++)v=null==v?c[a]:c[a]<v?c[a]:v;return v}},ToQueryViewerAxisType:function(a){switch(a){case "Rows":return"Row";case "Columns":return"Column";case "Pages":return"Page";case "Data":return"Data";case "Hidden":return"NotShow";default:return""}},anyError:function(a){return 0==a.indexOf('<Result OK="False"><Dsc>')},showActivityIndicator:function(a){var c='qv.util.showActivityIndicatorMain("'+a.getContainerControl().id+'");',a=a.userControlId();
qv.fadeTimeouts[a]&&clearTimeout(qv.fadeTimeouts[a]);qv.fadeTimeouts[a]=setTimeout(c,500)},showActivityIndicatorMain:function(a){a=document.getElementById(a);gx.dom.addClass(a,"gx-qv-loading");for(var c=0;c<a.childNodes.length;c++)gx.dom.addClass(a.childNodes[c],"gx-qv-loading-children")},hideActivityIndicator:function(a){var c=a.userControlId();qv.fadeTimeouts[c]&&(clearTimeout(qv.fadeTimeouts[c]),qv.fadeTimeouts[c]=void 0);a=a.getContainerControl();gx.dom.removeClass(a,"gx-qv-loading");for(c=0;c<
a.childNodes.length;c++)gx.dom.removeClass(a.childNodes[c],"gx-qv-loading-children")},renderError:function(a,c){if(IsQueryObjectPreview()&&!IsDashboardEdit())window.external.SendText(a.ControlName,c);else{var e=qv.util.dom.getEmptyContainer(a);qv.util.dom.createDiv(e,"","gx-qv-centered-text","",{width:gx.dom.addUnits(a.Width),height:gx.dom.addUnits(a.Height),borderColor:"silver",borderWidth:"thin",borderStyle:"solid"},gx.getMessage("GXPL_QViewerError")+": "+c);a._ControlRenderedTo=void 0;qv.util.hideActivityIndicator(a)}},
GetDesigntimeMetadata:function(a){for(var c=[],e=0;e<a.Metadata.Axes.length;e++){var b=a.Metadata.Axes[e];if(!b.IsComponent){var d={};d.Name=b.Name;d.Title=b.Title;d.DataField=b.DataField;d.Visible=b.Visible;d.Type=qv.util.ToQueryViewerAxisType(b.AxisType);d.Filter=b.Filter;d.ExpandCollapse=b.ExpandCollapse;d.AxisOrder=b.Order;d.Format={};d.Format.Subtotals=b.Subtotals;d.Format.Picture=b.Picture;d.Format.CanDragToPages=b.CanDragToPages;d.Format.Style=b.Style;0<b.ValuesStyles.length&&(d.Format.ValuesStyles=
b.ValuesStyles);d.Actions={};d.Actions.RaiseItemClick=b.RaiseItemClick;c.push(d)}}for(e=0;e<a.Metadata.Data.length;e++)b=a.Metadata.Data[e],b.IsComponent||(d={},d.Name=b.Name,d.Title=b.Title,d.DataField=b.DataField,d.Visible=b.Visible,d.Type=qv.util.ToQueryViewerAxisType(b.AxisType),d.Aggregation=b.Aggregation,d.Format={},d.Format.Picture=b.Picture,d.Format.Style=b.Style,d.Format.TargetValue=b.TargetValue,d.Format.MaximumValue=d.Format.TargetValue,0<b.ConditionalStyles.length&&(d.Format.ConditionalStyles=
b.ConditionalStyles),d.Actions={},d.Actions.RaiseItemClick=b.RaiseItemClick,c.push(d));return c},MergeFields:function(a,c){if(a.Visible&&(a.Type=c.AxisType,"Data"!=a.Type&&"Hidden"!=a.Type)){switch(a.AxisOrder.Type){case "None":case "Ascending":case "Descending":a.AxisOrder.Type=c.Order;break;case "Custom":"Descending"==c.Order&&a.AxisOrder.Values.reverse()}"No"!=a.Format.Subtotals&&void 0!=c.Subtotals&&(a.Format.Subtotals="Yes"==c.Subtotals?"Yes":"Hidden");a.Filter=c.Filter;c.ExpandCollapse&&(a.ExpandCollapse=
c.ExpandCollapse)}},GetOrderedAxesKeys:function(a){function c(a,d,b){return Array(d-(""+a).length+1).join(b||"0")+a}for(var e=[],b=0;b<a.length;b++){var d=a[b];switch(d.AxisType){case "Row":d="A"+c(d.AxisPosition,4,"0")+c(b,4,"0");break;case "Column":d="B"+c(d.AxisPosition,4,"0")+c(b,4,"0");break;case "Page":d="C"+c(d.AxisPosition,4,"0")+c(b,4,"0");break;case "Hidden":d="D"+c(d.AxisPosition,4,"0")+c(b,4,"0");break;case "Data":d="E"+c(d.AxisPosition,4,"0")+c(b,4,"0");break;default:d="Z"+c(d.AxisPosition,
4,"0")+c(b,4,"0")}e.push(d)}e.sort();return e},GetContainerControlClass:function(a){return""!=a.Class?a.Class+"-"+a.RealType.toLowerCase():""},GetContainerControlClasses:function(a){var c=qv.util.GetContainerControlClass(a),e;switch(a.RealType){case "Card":e="qv-card";break;case "Chart":e="qv-chart";break;case "PivotTable":e="qv-pivottable";break;case "Table":e="qv-table"}""!=c&&(e+=" "+c);return e},SetUserControlClass:function(a,c){a.getContainerControl().className="gx_usercontrol "+c}};
var STATE_DONE=4,STATUS_OK=200;
qv.services=function(){function a(a){return eval(a)[1].replace(/\\/g,".")}function c(a,b){var c=qv.services.RuntimeFieldsJSON(a),g=qv.services.RuntimeParametersJSON(a),e="",n="",f;f="Table"==a.RealType?"OnlyRows":"AllAxisTypes";""!=a.QueryInfo&&(n=eval("("+a.QueryInfo+")"),e=n.TextForNullValues,n=gx.json.serializeJson(n.Fields));return a.ObjectName!=b.ObjectName||a.ObjectType!=b.ObjectType||a.ObjectId!=b.ObjectId||a.Object!=b.Object||c!=b.RuntimeFieldsJSON||g!=b.RuntimeParametersJSON||e!=b.QueryInfoTextForNullValues||
n!=b.QueryInfoFieldsJSON||f!=b.MetadataType?(b.ObjectName=a.ObjectName,b.ObjectType=a.ObjectType,b.ObjectId=a.ObjectId,b.Object=a.Object,b.RuntimeFieldsJSON=c,b.RuntimeParametersJSON=g,b.QueryInfoTextForNullValues=e,b.QueryInfoFieldsJSON=n,b.MetadataType=f,!0):!1}function e(a,c){function e(a,f,d){for(var a=b(a),k=0;k<f.length;k++){var c=f[k],r="";void 0!=c[d]&&(r=c[d].Type);""!=r&&(c=qv.services.postInfo._priv.SdtWithValuesJSON("Order",r,"Custom",c[d].Values,!1),a+=","+c)}return a}var g=qv.services.RuntimeParametersJSON(a),
h=e(a,a.Axes,"AxisOrder"),n="",f="",k="",r="Table"==a.RealType?"PagedRecordSet":"PivotTable"==a.RealType?"PagedLineSet":"NotPaged";""!=a.QueryInfo&&(k=eval("("+a.QueryInfo+")"),n=k.SQLSentence,f=gx.json.serializeJson(k.Parameters),k=e(a,k.Fields,"Order"));return a.ObjectName!=c.ObjectName||a.ObjectType!=c.ObjectType||a.ObjectId!=c.ObjectId||a.Object!=c.Object||g!=c.RuntimeParametersJSON||h!=c.OrderJSON||n!=c.QueryInfoSQLSentence||f!=c.QueryInfoParametersJSON||k!=c.QueryInfoOrderJSON||r!=c.DataType?
(c.ObjectName=a.ObjectName,c.ObjectType=a.ObjectType,c.ObjectId=a.ObjectId,c.Object=a.Object,c.RuntimeParametersJSON=g,c.OrderJSON=h,c.QueryInfoSQLSentence=n,c.QueryInfoParametersJSON=f,c.QueryInfoOrderJSON=k,c.DataType=r,!0):!1}function b(a){return"Chart"==a.RealType&&qv.chart.IsDatetimeXAxis(a)||"Card"==a.RealType&&(a.IncludeSparkline||a.IncludeTrend)}return{url:function(){function a(b,d){var c=qv.util.getGenerator(),e;e=(new Date).getTime();var n=b.enableServerDebug?"_debug":"";switch(c){case "C#":var c=
new gx.util.Url(location.href),f=c.path,f=f.substr(0,f.lastIndexOf("/")+1);urlresult=""==c.port?c.protocol+"://"+c.host+f:c.protocol+"://"+c.host+":"+c.port+f;return urlresult+"agxpl_get"+n+".aspx?"+d+","+e;case "Java":return c=gx.util.resourceUrl(gx.basePath,!0),c+"servlet/qviewer.services.agxpl_get"+n+"?"+d+","+e;default:return""}}return{getDefaultOutputURL:function(b){return a(b,"defaultoutput")},getRecordsetCacheKeyURL:function(b){return a(b,"recordsetcachekey")},getMetadataURL:function(b){return a(b,
"metadata")},getDataURL:function(b){return a(b,"data")},getAttributeValuesURL:function(b){return a(b,"attributevalues")},getPageDataForTableURL:function(b){return a(b,"pagedatafortable")},getPageDataForPivotTableURL:function(b){return a(b,"pagedataforpivottable")},getQueryParametersURL:function(b){return a(b,"queryparameters")},getDashboardSpecURL:function(b){return a(b,"dashboardspec")}}}(),postInfo:function(){function d(a,b){var d="",e,g,u,n,s,h,A,I,z,m,G;e=!1;for(i=0;void 0!=a.Axes[i];i++){e=!0;
d+=""!=d?",":"";d+="{";g="";n=u=0;h=s="";I=A=!0;G=m=z="";var D;D=a.Axes[i];var y="",w=!1;if(void 0!=D.Format&&void 0!=D.Format.ValuesStyles)for(var t=0;void 0!=D.Format.ValuesStyles[t];t++)w=!0,y+=""!=y?",":"",y+="{",y+='"Value":"'+encodeURIComponent(D.Format.ValuesStyles[t].Value)+'"',y+=",",y+='"Style":"'+encodeURIComponent(D.Format.ValuesStyles[t].StyleOrClass)+'"',y+=",",y+='"Propagate":'+(D.Format.ValuesStyles[t].ApplyToRowOrColumn?"true":"false"),y+="}";w&&(y='"ValuesStyles":['+y+"]");D=y;y=
a.Axes[i];w="";t=!1;if(void 0!=y.Format&&void 0!=y.Format.ConditionalStyles)for(var M=0;void 0!=y.Format.ConditionalStyles[M];M++)t=!0,w+=""!=w?",":"",w+="{",w+='"Operator":"'+y.Format.ConditionalStyles[M].Operator+'"',w+=",",w+='"Value1":"'+encodeURIComponent(y.Format.ConditionalStyles[M].Value1)+'"',"IN"==y.Format.ConditionalStyles[M].Operator&&(w+=",",w+='"Value2":"'+encodeURIComponent(y.Format.ConditionalStyles[M].Value2)+'"'),w+=",",w+='"Style":"'+encodeURIComponent(y.Format.ConditionalStyles[M].StyleOrClass)+
'"',w+="}";t&&(w='"ConditionalStyles":['+w+"]");y=w;w=a.Axes[i];t="";void 0!=w.Grouping&&(t+="{",t+='"GroupByYear":'+(w.Grouping.GroupByYear?"true":"false"),t+=",",t+='"YearTitle":"'+w.Grouping.YearTitle+'"',t+=",",t+='"GroupBySemester":'+(w.Grouping.GroupBySemester?"true":"false"),t+=",",t+='"SemesterTitle":"'+w.Grouping.SemesterTitle+'"',t+=",",t+='"GroupByQuarter":'+(w.Grouping.GroupByQuarter?"true":"false"),t+=",",t+='"QuarterTitle":"'+w.Grouping.QuarterTitle+'"',t+=",",t+='"GroupByMonth":'+(w.Grouping.GroupByMonth?
"true":"false"),t+=",",t+='"MonthTitle":"'+w.Grouping.MonthTitle+'"',t+=",",t+='"GroupByDayOfWeek":'+(w.Grouping.GroupByDayOfWeek?"true":"false"),t+=",",t+='"DayOfWeekTitle":"'+w.Grouping.DayOfWeekTitle+'"',t+=",",t+='"HideValue":'+(w.Grouping.HideValue?"true":"false"),t+="}",t='"Grouping":'+t);w=t;void 0!=a.Axes[i].Format&&(g=a.Axes[i].Format.Picture?a.Axes[i].Format.Picture:"",u=a.Axes[i].Format.TargetValue?a.Axes[i].Format.TargetValue:0,n=a.Axes[i].Format.MaximumValue?a.Axes[i].Format.MaximumValue:
0,s=a.Axes[i].Format.Style?a.Axes[i].Format.Style:"",h=a.Axes[i].Format.Subtotals?a.Axes[i].Format.Subtotals:"",A=a.Axes[i].Format.CanDragToPages);void 0!=a.Axes[i].Actions&&(I=a.Axes[i].Actions.RaiseItemClick);void 0!=a.Axes[i].AxisOrder&&(z=a.Axes[i].AxisOrder.Type);void 0!=a.Axes[i].ExpandCollapse&&(m=a.Axes[i].ExpandCollapse.Type);void 0!=a.Axes[i].Filter&&(G=a.Axes[i].Filter.Type);void 0==G&&(G="ShowSomeValues");d+='"Name":"'+encodeURIComponent(a.Axes[i].Name)+'"';d+=",";d+='"Caption":"'+encodeURIComponent(a.Axes[i].Title)+
'"';d+=",";d+='"Aggregation":"'+a.Axes[i].Aggregation+'"';d+=",";d+='"Visible":'+a.Axes[i].Visible;d+=",";t=a.Axes[i].Type;d+='"Axis":{"Type":"'+("Row"==t?"Rows":"Column"==t?"Columns":"Page"==t?"Pages":"NotShow"==t?"Hidden":t)+'"}';d+=",";d+='"Picture":"'+encodeURIComponent(g)+'"';d+=",";d+='"TargetValue":'+u;d+=",";d+='"MaximumValue":'+n;d+=",";d+='"Style":"'+s+'"';d+=",";d+='"Subtotals":"'+h+'"';d+=",";d+='"CanDragToPages":'+A;d+=",";d+='"RaiseItemClick":'+I;""!=z&&(g=c("Order",z,"Custom",a.Axes[i].AxisOrder.Values,
b),d+=""!=g?","+g:"");""!=m&&(m=c("ExpandCollapse",m,"ExpandSomeValues",a.Axes[i].ExpandCollapse.Values,b),d+=""!=m?","+m:"");""!=G&&a.Axes[i].Filter.Values&&(G=c("Filter",G,"ShowSomeValues",a.Axes[i].Filter.Values,b),d+=""!=G?","+G:"");d+=""!=D?","+D:"";d+=""!=y?","+y:"";d+=""!=w?","+w:"";d+="}"}e&&(d='"RuntimeFields":['+d+"]");return d}function c(a,d,b,e,g){var v="";if(""!=d){v=v+('"'+a+'":')+"{"+('"Type":"'+d+'"');strValues="";if(d==b){existValues=!1;for(j=0;void 0!=e[j];j++)existValues=!0,strValues+=
""!=strValues?",":"",strValues=g?strValues+('"'+encodeURIComponent(e[j])+'"'):strValues+('"'+e[j]+'"');existValues&&(strValues=',"Values":['+strValues+"]")}v+=strValues;v+="}"}return v}function e(a){var d="",b=!1;if(a.Object){a=eval(a.Object);for(i=2;i<a.length;i++)b=!0,d+=""!=d?",":"",d+="{",d+='"Value":"'+encodeURIComponent(a[i])+'"',d+="}"}else for(i=0;void 0!=a.Parameters[i];i++)b=!0,d+=""!=d?",":"",d+="{",d+='"Name":"'+a.Parameters[i].Name+'"',d+=",",d+='"Value":"'+encodeURIComponent(a.Parameters[i].Value)+
'"',d+="}";b&&(d='"RuntimeParameters":['+d+"]");return d}function g(a){var d="",b=!1;for(i=0;void 0!=a[i];i++){b=!0;d+=""!=d?",":"";d+="{";d+='"DataField":"'+a[i].DataField+'"';d+=",";d+='"NullIncluded":'+a[i].NullIncluded;strIncludedValues="";existValues=!1;for(j=0;void 0!=a[i].NotNullValues.Included[j];j++)existValues=!0,strIncludedValues+=""!=strIncludedValues?",":"",strIncludedValues+='"'+encodeURIComponent(a[i].NotNullValues.Included[j])+'"';existValues&&(strIncludedValues=',"Included":['+strIncludedValues+
"]");strExcludedValues="";existValues=!1;for(j=0;void 0!=a[i].NotNullValues.Excluded[j];j++)existValues=!0,strExcludedValues+=""!=strExcludedValues?",":"",strExcludedValues+='"'+encodeURIComponent(a[i].NotNullValues.Excluded[j])+'"';existValues&&(strExcludedValues=',"Excluded":['+strExcludedValues+"]");d+=",";d+='"NotNullValues":{"DefaultAction":"'+a[i].NotNullValues.DefaultAction+'"'+strIncludedValues+strExcludedValues+"}";d+="}"}b&&(d='"Filters":['+d+"]");return d}function h(a){return a.UseRecordsetCache?
'{"ActualKey":"'+a.RecordsetCache.ActualKey+'","OldKey":"'+a.RecordsetCache.OldKey+'","MinutesToKeep":'+a.MinutesToKeepInRecordsetCache+',"MaximumSize":'+a.MaximumCacheSize+"}":'{"ActualKey":"","OldKey":"","MinutesToKeep":0,"MaximumSize":0}'}function n(d){var b;b=""+(""!=d.ParentObject.PackageName?'"ApplicationNamespace":"'+d.ParentObject.PackageName+'",':"");d.Object?b+='"ObjectName":"'+a(d.Object)+'"':(b+='"ObjectName":"'+d.ObjectName+'"',b=b+","+('"Alt_ObjectType":"'+d.ObjectType+'"'),b=b+","+
('"Alt_ObjectId":'+d.ObjectId));return b}return{DefaultOutput:function(a){var d;d="{"+n(a);d+=""!=a.ObjectInfo?',"ObjectInfo":'+a.ObjectInfo:"";return"Data="+encodeURIComponent(d+"}")},RecordsetCacheKey:function(a){a="{"+n(a);return"Data="+encodeURIComponent(a+"}")},Metadata:function(a){var b="",c=e(a),g=d(a,!0),b=b+"{"+n(a),b=b+(""!=a.QueryInfo?',"QueryInfo":'+a.QueryInfo:""),b=b+(""!=a.AppSettings?',"AppSettings":'+a.AppSettings:""),b=b+(""!=c?","+c:"")+(""!=g?","+g:"")+","+('"TableType":"'+a.RealType+
'"'),b=b+","+('"AllowAxesOrderChange":'+a.AllowChangeAxesOrder),b=b+","+('"RememberLayout":'+a.RememberLayout),b=b+","+('"ShowDataLabelsIn":"'+a.ShowDataLabelsIn+'"'),b=b+","+('"RecordsetCacheInfo":'+h(a)),b=b+","+('"ReturnSampleData":'+a.ReturnSampleData);return"Data="+encodeURIComponent(b+"}")},Data:function(a){var c="",g=e(a),v=d(a,!0),c=c+"{"+n(a),c=c+(""!=a.QueryInfo?',"QueryInfo":'+a.QueryInfo:""),c=c+(""!=a.AppSettings?',"AppSettings":'+a.AppSettings:""),c=c+(""!=g?","+g:"")+(""!=v?","+v:"")+
","+('"TableType":"'+a.RealType+'"'),c=c+","+('"SortAscendingForced":'+b(a)),c=c+","+('"AllowAxesOrderChange":'+a.AllowChangeAxesOrder),c=c+","+('"RecordsetCacheInfo":'+h(a)),c=c+","+('"ReturnSampleData":'+a.ReturnSampleData);return"Data="+encodeURIComponent(c+"}")},AttributeValues:function(a,b,c,g,v){var o="",x=e(a),s=d(a,!0),o=o+"{"+n(a),o=o+","+('"DataField":"'+b+'"')+","+('"PageNumber":'+c)+","+('"PageSize":'+g)+","+('"Filter":"'+v+'"')+(""!=a.QueryInfo?',"QueryInfo":'+a.QueryInfo:""),o=o+(""!=
a.AppSettings?',"AppSettings":'+a.AppSettings:""),o=o+(""!=x?","+x:"")+(""!=s?","+s:"")+","+('"TableType":"'+a.RealType+'"'),o=o+","+('"AllowAxesOrderChange":'+a.AllowChangeAxesOrder),o=o+","+('"RecordsetCacheInfo":'+h(a)),o=o+","+('"ReturnSampleData":'+a.ReturnSampleData);return"Data="+encodeURIComponent(o+"}")},TablePageData:function(a,b,c,v,p,o,x){var s="",F=e(a),A=d(a,!0),x=g(x),s=s+"{"+n(a),s=s+","+('"PageNumber":'+b)+","+('"PageSize":'+(gx.lang.gxBoolean(a.Paging)?c:0)),s=s+","+('"ReturnTotPages":'+
v)+","+('"Order":'+('{"DataField":"'+p+'","Type":"'+o+'"}'))+(""!=x?","+x:"")+(""!=a.QueryInfo?',"QueryInfo":'+a.QueryInfo:""),s=s+(""!=a.AppSettings?',"AppSettings":'+a.AppSettings:""),s=s+(""!=F?","+F:"")+(""!=A?","+A:"")+","+('"AllowAxesOrderChange":'+a.AllowChangeAxesOrder),s=s+","+('"RecordsetCacheInfo":'+h(a)),s=s+","+('"ReturnSampleData":'+a.ReturnSampleData);return"Data="+encodeURIComponent(s+"}")},PivotTablePageData:function(a,b,c,v,p,o,x,s,F){for(var A="",I=e(a),z=d(a,!0),m="",G=!1,D=0;void 0!=
p[D];D++)G=!0,m+=""!=m?",":"",m+="{",m+='"DataField":"'+p[D].DataField+'"',m+=",",m+='"Axis":{"Type":"'+p[D].Axis.Type+'","Position":'+p[D].Axis.Position+"}",m+=",",m+='"Order":"'+p[D].Order+'"',m+=",",m+='"Subtotals":'+p[D].Subtotals,m+="}";G&&(m='"AxesInfo":['+m+"]");p=m;m="";G=!1;for(D=0;void 0!=o[D];D++)G=!0,m+=""!=m?",":"",m+="{",m+='"DataField":"'+o[D].DataField+'"',m+=",",m+='"Axis":{"Type":"'+o[D].Axis.Type+'","Position":'+o[D].Axis.Position+"}",m+="}";G&&(m='"DataInfo":['+m+"]");o=m;x=g(x);
m="";G=!1;for(D=0;void 0!=s[D];D++){G=!0;m+=""!=m?",":"";m+="{";m+='"DataField":"'+s[D].DataField+'"';m+=",";m+='"NullExpanded":'+s[D].NullExpanded;strExpandedValues="";existValues=!1;for(var y=0;void 0!=s[D].NotNullValues.Expanded[y];y++)existValues=!0,strExpandedValues+=""!=strExpandedValues?",":"",strExpandedValues+='"'+encodeURIComponent(s[D].NotNullValues.Expanded[y])+'"';existValues&&(strExpandedValues=',"Expanded":['+strExpandedValues+"]");strCollapsedValues="";existValues=!1;for(y=0;void 0!=
s[D].NotNullValues.Collapsed[y];y++)existValues=!0,strCollapsedValues+=""!=strCollapsedValues?",":"",strCollapsedValues+='"'+encodeURIComponent(s[D].NotNullValues.Collapsed[y])+'"';existValues&&(strCollapsedValues=',"Collapsed":['+strCollapsedValues+"]");m+=",";m+='"NotNullValues":{"DefaultAction":"'+s[D].NotNullValues.DefaultAction+'"'+strExpandedValues+strCollapsedValues+"}";m+="}"}G&&(m='"ExpandCollapse":['+m+"]");s=m;A=A+"{"+n(a);A=A+","+('"PageNumber":'+b)+","+('"PageSize":'+(gx.lang.gxBoolean(a.Paging)?
c:0));A=A+","+('"ReturnTotPages":'+v)+","+('"ShowDataLabelsIn":"'+a.ShowDataLabelsIn+'"');A=A+(""!=p?","+p:"")+(""!=o?","+o:"")+(""!=x?","+x:"")+(""!=s?","+s:"")+(""!=a.QueryInfo?',"QueryInfo":'+a.QueryInfo:"");A+=""!=a.AppSettings?',"AppSettings":'+a.AppSettings:"";A=A+(""!=I?","+I:"")+(""!=z?","+z:"")+","+('"AllowAxesOrderChange":'+a.AllowChangeAxesOrder);A=A+","+('"RecordsetCacheInfo":'+h(a));A=A+","+('"LayoutChanged":'+F)+","+('"ReturnSampleData":'+a.ReturnSampleData);return"Data="+encodeURIComponent(A+
"}")},getQueryParameters:function(a){var d;d="{"+n(a);d+=""!=a.ObjectInfo?',"ObjectInfo":'+a.ObjectInfo:"";return"Data="+encodeURIComponent(d+"}")},DashboardSpec:function(d){var b="";d.Object&&(b=a(d.Object));d=JSON.stringify({ApplicationNamespace:d.ParentObject.PackageName,ObjectName:b,Alt_ObjectId:0});return"Data="+encodeURIComponent(d)},_priv:{RuntimeParametersJSON:function(a){return e(a)},RuntimeFieldsJSON:function(a){return d(a)},SdtWithValuesJSON:function(a,d,b,e,g){return c(a,d,b,e,g)}}}}(),
RuntimeParametersJSON:function(a){return this.postInfo._priv.RuntimeParametersJSON(a)},RuntimeFieldsJSON:function(a,b){return this.postInfo._priv.RuntimeFieldsJSON(a,b)},getXMLHttpRequest:function(){if(window.XMLHttpRequest)return new window.XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(a){return null}},CallServerSync:function(a,b,c,e){e=e||[];e.unshift(a);a=b.call(qv.services.url,a);c=c.apply(qv.services.postInfo,e);e=qv.services.getXMLHttpRequest();e.open("POST",a,!1);
e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");e.send(c);return e.responseText},createAsyncServerCallFn:function(a,b,c,e,h){return function(n,f){f=f||[];f.unshift(a);var k=function(b){h&&"Card"!=a.RealType&&(b=h.call(qv.util.css,b));n(b,a)};if(gx.lang.gxBoolean(a.IsExternalQuery))k(a.ExternalQueryResultObj()[e]);else{var r=b.call(qv.services.url,a),q=c.apply(qv.services.postInfo,f),p=qv.services.getXMLHttpRequest(),o=function(){p.readyState==STATE_DONE&&p.status==STATUS_OK&&
k(p.responseText)};gx.util.browser.isIE()?p.onreadystatechange=o:p.onload=o;p.open("POST",r);p.setRequestHeader("Content-Type","application/x-www-form-urlencoded");p.send(q)}}},parseRecordsetCacheKeyXML:function(a){""!=a.xml.recordsetCacheKey&&(a.RecordsetCache=a.RecordsetCache||{},a.RecordsetCache.OldKey=a.RecordsetCache.ActualKey?a.RecordsetCache.ActualKey:"",a.RecordsetCache.ActualKey=a.xml.recordsetCacheKey)},parseDataXML:function(a){if(""!=a.xml.data){var b=qv.util.dom.xmlDocument(a.xml.data),
b=qv.util.dom.getSingleElementByTagName(b,"Recordset");a.Data=a.Data||{};b=gx.util.browser.isIE()?qv.util.dom.getMultipleElementsByTagName(qv.util.dom.getSingleElementByTagName(b,"Page"),"Record"):qv.util.dom.getMultipleElementsByTagName(b,"Record");a.Data.Rows=[];for(var c=0;c<b.length;c++){for(var e={},h=0;h<b[c].childNodes.length;h++){var n=b[c].childNodes[h];1==n.nodeType&&(e[n.nodeName]=1==n.childNodes.length?n.childNodes[0].nodeValue:"")}a.Data.Rows.push(e)}}},parseMetadataXML:function(a){function b(a,
d){if("greaterequal"==a&&"lessequal"==d)return"IN";switch(a){case "equal":return"EQ";case "less":return"LT";case "greater":return"GT";case "lessequal":return"LE";case "greaterequal":return"GE";case "notequal":return"NE"}}function c(a){switch(a){case "rows":return"Rows";case "columns":return"Columns";case "filters":return"Pages";case "data":return"Data";case "hidden":return"Hidden";default:return""}}function e(a,b,d,c){var f={},a=qv.util.dom.getSingleElementByTagName(a,b);if(null!=a){f.GroupFound=
!0;f.TotalValueFound=!1;d=qv.util.dom.getMultipleElementsByTagName(a,d);f.Values=[];for(a=0;a<d.length;a++)b=null!=d[a].firstChild?d[a].firstChild.nodeValue:"","TOTAL"==b&&c?f.TotalValueFound=!0:f.Values.push(b)}else f.GroupFound=!1;return f}function h(a){if(0==a.indexOf("gxpl_cssReplace("))var b=a.indexOf("gxpl_cssReplace("),d=a.indexOf(")",b),a=a.substring(b+16,d);return a}function n(a){for(var a=qv.util.dom.getSingleElementByTagName(a,"formatValues"),a=null!=a?qv.util.dom.getMultipleElementsByTagName(a,
"value"):[],b=[],d=0;d<a.length;d++){var c={};c.Value=qv.util.trim(null!=a[d].firstChild?a[d].firstChild.nodeValue:"");c.StyleOrClass=h(a[d].getAttribute("format"));c.ApplyToRowOrColumn="yes"==a[d].getAttribute("recursive");b.push(c)}return b}function f(a){for(var a=qv.util.dom.getSingleElementByTagName(a,"conditionalFormats"),a=null!=a?qv.util.dom.getMultipleElementsByTagName(a,"rule"):[],d=[],c=0;c<a.length;c++){var f={};f.Operator=b(a[c].getAttribute("op1"),a[c].getAttribute("op2"));f.Value1=parseFloat(a[c].getAttribute("value1"));
"IN"==f.Operator&&(f.Value2=parseFloat(a[c].getAttribute("value2")));f.StyleOrClass=h(a[c].getAttribute("format"));d.push(f)}return d}if(""!=a.xml.metadata){var k=qv.util.dom.xmlDocument(a.xml.metadata),r=qv.util.dom.getSingleElementByTagName(k,"OLAPCube");a.Metadata=a.Metadata||{};a.Metadata.TextForNullValues=r.getAttribute("textForNullValues");var q=qv.util.dom.getMultipleElementsByTagName(r,"OLAPDimension");a.Metadata.Axes=[];for(k=0;k<q.length;k++){var p={};p.Name=q[k].getAttribute("name");p.Title=
q[k].getAttribute("displayName");p.DataField=q[k].getAttribute("dataField");p.DataType=q[k].getAttribute("dataType");var o=q[k].getAttribute("validPositions");p.Visible=""!=o;p.AxisType=c(q[k].getAttribute("defaultPosition"));p.Picture=q[k].getAttribute("picture");if(""==p.Picture)switch(p.DataType){case "integer":p.Picture="ZZZZZZZZZZZZZZ9";break;case "real":p.Picture="ZZZZZZZZZZZZZZ9.99";break;case "date":p.Picture="99/99/9999";break;case "datetime":p.Picture="99/99/9999 99:99:99";break;case "guid":p.Picture=
"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"}p.CanDragToPages=0<=o.indexOf("filters");p.RaiseItemClick=qv.util.dom.getBooleanAttribute(q[k],"raiseItemClick",!0);p.IsComponent=qv.util.dom.getBooleanAttribute(q[k],"isComponent",!1);p.Style=q[k].getAttribute("format");var x=e(q[k],"include","value",!0),s=e(q[k],"exclude","value",!0),F=e(q[k],"expand","value",!1),o=e(q[k],"customOrder","Value",!1);p.Subtotals="no"==q[k].getAttribute("summarize")?"No":s.GroupFound&&s.TotalValueFound?"Hidden":"Yes";p.Filter=
{};!x.GroupFound&&!s.GroupFound?(p.Filter.Type="ShowAllValues",p.Filter.Values=[]):!x.GroupFound&&s.GroupFound&&0==s.Values.length&s.TotalValueFound?(p.Filter.Type="ShowAllValues",p.Filter.Values=[]):x.GroupFound&&!s.GroupFound&&0==x.Values.length?(p.Filter.Type="HideAllValues",p.Filter.Values=[]):(p.Filter.Type="ShowSomeValues",p.Filter.Values=x.Values);p.ExpandCollapse={};F.GroupFound?F.GroupFound&&0==F.Values.length?(p.ExpandCollapse.Type="CollapseAllValues",p.ExpandCollapse.Values=[]):(p.ExpandCollapse.Type=
"ExpandSomeValues",p.ExpandCollapse.Values=F.Values):(p.ExpandCollapse.Type="ExpandAllValues",p.ExpandCollapse.Values=[]);p.Order={};x=q[k].getAttribute("order");null==x?(p.Order.Type="None",p.Order.Values=[]):(p.Order.Type=qv.util.capitalize(x),p.Order.Values="Custom"==p.Order.Type?o.Values:[]);p.ValuesStyles=n(q[k]);a.Metadata.Axes.push(p)}r=qv.util.dom.getMultipleElementsByTagName(r,"OLAPMeasure");a.Metadata.Data=[];for(k=0;k<r.length;k++)q={},q.Name=r[k].getAttribute("name"),q.Title=r[k].getAttribute("displayName"),
q.DataField=r[k].getAttribute("dataField"),q.Aggregation=r[k].getAttribute("aggregation"),q.DataType=r[k].getAttribute("dataType"),q.Visible=""!=r[k].getAttribute("validPositions"),q.AxisType=c(r[k].getAttribute("defaultPosition")),q.Picture=r[k].getAttribute("picture"),q.RaiseItemClick=qv.util.dom.getBooleanAttribute(r[k],"raiseItemClick",!0),q.IsComponent=qv.util.dom.getBooleanAttribute(r[k],"isComponent",!1),""==q.Picture&&(q.Picture="integer"==q.DataType?"ZZZZZZZZZZZZZZ9":"ZZZZZZZZZZZZZZ9.99"),
q.Aggregation=qv.util.capitalize(q.Aggregation),q.TargetValue=parseFloat(r[k].getAttribute("targetValue")),q.MaximumValue=parseFloat(r[k].getAttribute("maximumValue")),q.Style=r[k].getAttribute("format"),0>=q.TargetValue&&(q.TargetValue=100),0>=q.MaximumValue&&(q.MaximumValue=100),q.ConditionalStyles=f(r[k]),a.Metadata.Data.push(q)}},GetDataIfNeeded:function(a,b){a.Data=a.Data||{};a.Data.LastServiceCallKey=a.Data.LastServiceCallKey||{};e(a,a.Data.LastServiceCallKey)||gx.lang.gxBoolean(a.IsExternalQuery)?
a.calculatePivottableData(b):b(a.xml.data,a)},GetMetadataIfNeeded:function(a,b){a.Metadata=a.Metadata||{};a.Metadata.LastServiceCallKey=a.Metadata.LastServiceCallKey||{};c(a,a.Metadata.LastServiceCallKey)||gx.lang.gxBoolean(a.IsExternalQuery)?a.calculatePivottableMetadata(b):b(a.xml.metadata,a)},GetDashboardSpecIfNeeded:function(b,c){b.DashboardSpec=b.DashboardSpec||"";b.LastServiceCallKey=b.LastServiceCallKey||{};var e;e=b.LastServiceCallKey;if(b.Object){var g=a(b.Object);g!=e.ObjectName?(e.ObjectName=
g,e=!0):e=!1}else e=!1;e?b.GetDashboardSpec(c):c(b.DashboardSpec,b)},GetRecordsetCacheKeyIfNeeded:function(a,b){a.UseRecordsetCache&&!gx.lang.gxBoolean(a.IsExternalQuery)?(a.RecordsetCache=a.RecordsetCache||{},a.RecordsetCache.LastServiceCallKey=a.RecordsetCache.LastServiceCallKey||{},e(a,a.RecordsetCache.LastServiceCallKey)?a.getRecordsetCacheKey(b):b(a.xml.recordsetCacheKey,a)):b("",a)},IsObjectSet:function(a){return a.Object||""!=a.ObjectName||""!=a.ObjectType&&0!=a.ObjectId}}}();
qv.pivot=function(){function a(a){var d=qv.util.GetContainerControlClasses(a);""!=d&&qv.util.SetUserControlClass(a,d);d=a.userControlId()+"_"+a.ObjectName.replace(/,/g,"").replace(/\./g,"")+"_pivot_page";a.pivotParams={};a.pivotParams.page=d;var c=a.userControlId()+"_"+a.ObjectName.replace(/,/g,"").replace(/\./g,"")+"_pivot_content";a.pivotParams.content=c;if(a._ControlRenderedTo!=a.RealType||0==jQuery("#"+c).length)if(a._ControlRenderedTo!=a.RealType&&"PivotTable"==a.RealType){var e=qv.util.dom.getEmptyContainer(a);
qv.util.dom.createDiv(e,d,"","",{},"");qv.util.dom.createDiv(e,c,"","",{},"")}else jQuery("#"+a.ContainerName).find(".pivot_filter_div").attr("id",d),jQuery("#"+a.ContainerName).find(".conteiner_table_div").attr("id",c);a.pivotParams.container=a.getContainerControl();a.pivotParams.RealType=a.RealType;a.pivotParams.ObjectName=a.ObjectName;a.pivotParams.ControlName=a.ControlName;a.pivotParams.PageSize=a.Paging&&"false"!=a.Paging?a.PageSize:void 0;a.pivotParams.metadata=a.xml.metadata;d=gx.lang.gxBoolean(a.IsExternalQuery)?
a.xml.data:"Table"==a.RealType?a.ServerPagingForTable?a.xml.pageData:a.xml.data:a.ServerPagingForPivotTable?a.xml.pageData:a.xml.data;a.pivotParams.data=d;a.pivotParams.UcId=a.userControlId();a.pivotParams.AutoResize=gx.lang.gxBoolean(a.AutoResize)||gx.lang.gxBoolean(a.ShrinkToFit);a.pivotParams.DisableColumnSort=a.DisableColumnSort;a.pivotParams.RememberLayout=a.RememberLayout;a.pivotParams.ShowDataLabelsIn=a.ShowDataLabelsIn;a.pivotParams.ServerPaging=a.ServerPagingForTable&&!gx.lang.gxBoolean(a.IsExternalQuery);
a.pivotParams.ServerPagingPivot=a.ServerPagingForPivotTable&&!gx.lang.gxBoolean(a.IsExternalQuery);a.pivotParams.ServerPagingCacheSize=0;a.pivotParams.UseRecordsetCache=a.UseRecordsetCache&&!gx.lang.gxBoolean(a.IsExternalQuery);a.pivotParams.AllowSelection=a.AllowSelection;a.pivotParams.SelectLine=!0;void 0!=OAT.Loader?renderJSPivot(a.pivotParams,qv.collection,a):OAT.Loader.addListener(function(){renderJSPivot(a.pivotParams,qv.collection,a)});a._ControlRenderedTo=a.RealType;"Table"==a.RealType&&qv.util.hideActivityIndicator(a)}
function c(b){b.getPageDataForTable(function(b,c){(new Date).getTime();qv.util.anyError(b)?(errMsg=qv.util.getErrorFromText(b),qv.util.renderError(c,errMsg)):(""!=b&&(c.xml.pageData=b),a(c))},[1,b.PageSize,!0,"","",[]])}function e(a,d){var c=[];if(null!=a)for(var e=-1,g=0;g<a.childNodes.length;g++)if("ITEM"==a.childNodes[g].nodeName){var h=a.childNodes[g].getAttribute("name");if(0>d.indexOf(h)){e++;c[e]={};c[e].Name=h;c[e].Values=[];for(var h=-1,n=a.childNodes[g],f=0;f<a.childNodes[g].childNodes.length;f++)if("VALUES"==
a.childNodes[g].childNodes[f].nodeName){n=a.childNodes[g].childNodes[f];break}for(f=0;f<n.childNodes.length;f++)"VALUE"==n.childNodes[f].nodeName&&(h++,c[e].Values[h]=null!=n.childNodes[f].firstChild?n.childNodes[f].firstChild.nodeValue:"")}}return c}return{tryToRenderPivotTable:function(b){var d="",e=(new Date).getTime();b.xml=b.xml||{};qv.services.GetRecordsetCacheKeyIfNeeded(b,function(b,g){var h=!1;b!=g.xml.recordsetCacheKey&&(g.xml.recordsetCacheKey=b,h=!0);qv.util.anyError(b)?(d=qv.util.getErrorFromText(b),
qv.util.renderError(g,d)):(h&&qv.services.parseRecordsetCacheKeyXML(g),qv.services.GetMetadataIfNeeded(g,function(b,f){var g=false;if(b!=f.xml.metadata){f.xml.metadata=b;g=true}var h=(new Date).getTime();if(qv.util.anyError(b)){d=qv.util.getErrorFromText(b);qv.util.renderError(f,d)}else{g&&qv.services.parseMetadataXML(f);if(f.ServerPagingForTable&&f.RealType=="Table"&&!gx.lang.gxBoolean(f.IsExternalQuery)){g=false;OAT.getStateWhenServingPaging&&(g=OAT.getStateWhenServingPaging(f.userControlId()+"_"+
f.ObjectName,f.ObjectName));!g||!f.RememberLayout?c(f,e,h):a(f)}else if(f.ServerPagingForPivotTable&&f.RealType=="PivotTable"&&!gx.lang.gxBoolean(f.IsExternalQuery)){g=false;OAT.getStateWhenServingPaging&&(g=OAT.getStateWhenServingPaging(f.userControlId()+"_"+f.ObjectName,f.ObjectName));a(f)}else qv.services.GetDataIfNeeded(f,function(b,c){if(b!=c.xml.data)c.xml.data=b;(new Date).getTime();if(qv.util.anyError(b)){d=qv.util.getErrorFromText(b);qv.util.renderError(c,d)}else a(c)})}}))})},GetMetadataPivot:function(a){var d=
qv.util.GetDesigntimeMetadata(a);if(0<d.length){for(var c=a.oat_element.getMetadataXML(),a=qv.pivot.GetRuntimeMetadata(c,a.RealType),c=[],e=qv.util.GetOrderedAxesKeys(a),g=0;g<e.length;g++)for(var h=parseInt(e[g].substr(5,4)),h=a[h],n,f=0;f<d.length;f++)if(n=d[f],n.Name==h.Name){n=qv.util.cloneObject(n);qv.util.MergeFields(n,h);c.push(n);break}return c}return[]},GetRuntimeMetadata:function(a,d){function c(a,b,d,f,e){var b=qv.util.dom.getValueNode(qv.util.dom.getSingleElementByTagName(a,b)),g=[];if(b==
f&&(a=qv.util.dom.getSingleElementByTagName(a,d),null!=a)){a=qv.util.dom.getMultipleElementsByTagName(a,"value");for(d=0;d<a.length;d++)f=qv.util.trim(qv.util.dom.getValueNode(a[d])),null!=f&&("TOTAL"!=f.toUpperCase()||!e)&&g.push(f)}return{Type:b,Values:g}}function e(a,b,d,c){return a?"true"==b?"Hidden":!d?"Data":"rows"==c?"Row":"columns"==c?"Column":"pages"==c?"Page":"":""}for(var g=qv.util.dom.xmlDocument(a),h=qv.util.dom.getSingleElementByTagName(g,"OLAPCube"),g=[],n=qv.util.dom.getMultipleElementsByTagName(h,
"OLAPDimension"),f=0;f<n.length;f++){var k={},r=qv.util.dom.getValueNode(qv.util.dom.getSingleElementByTagName(n[f],"name")),q=qv.util.dom.getValueNode(qv.util.dom.getSingleElementByTagName(n[f],"hidden")),p=null!=qv.util.dom.getValueNode(qv.util.dom.getSingleElementByTagName(n[f],"validPositions")),o=qv.util.dom.getValueNode(qv.util.dom.getSingleElementByTagName(n[f],"defaultPosition"));null==o&&(o="");var x=qv.util.dom.getValueNode(qv.util.dom.getSingleElementByTagName(n[f],"axisOrder")),s=qv.util.dom.getValueNode(qv.util.dom.getSingleElementByTagName(n[f],
"summarize")),F=qv.util.dom.getValueNode(qv.util.dom.getSingleElementByTagName(n[f],"order"));k.Name=r;k.AxisType=e(p,q,!0,o);k.AxisPosition=x;k.Order=qv.util.capitalize(F);"Table"==d?(k.Filter=c(n[f],"","include",null,!0),k.Filter.Type="ShowSomeValues"):(k.Subtotals="no"==s?"No":"Yes",k.Filter=c(n[f],"filterType","include","ShowSomeValues",!0),k.ExpandCollapse=c(n[f],"collapseType","includeExpand","ExpandSomeValues",!1));g.push(k)}if("Table"!=d){h=qv.util.dom.getMultipleElementsByTagName(h,"OLAPMeasure");
for(f=0;f<h.length;f++)n={},r=qv.util.dom.getValueNode(qv.util.dom.getSingleElementByTagName(h[f],"name")),q=qv.util.dom.getValueNode(qv.util.dom.getSingleElementByTagName(h[f],"hidden")),x=(f+1).toString(),n.Name=r,n.AxisType=e(!0,q,!1,null),n.AxisPosition=x,g.push(n)}return g},GetDataPivot:function(a){return a.oat_element.getDataXML()},GetFilteredDataPivot:function(a){return a.oat_element.getFilteredDataXML()},onOAT_PIVOTDragAndDropEvent:function(a,d){var c;"PivotTable"==a.RealType&&(IsQueryObjectPreview()&&
window.external.SendText(a.ControlName,d),a.DragAndDrop&&(c=qv.util.dom.xmlDocument(d),c=qv.util.dom.selectXPathNode(c,"/DATA"),a.DragAndDropData.Name=c.getAttribute("name"),c=c.getAttribute("position"),a.DragAndDropData.Axis="rows"==c?"Row":"columns"==c?"Column":"Page",a.DragAndDrop()))},onItemClickEvent:function(a,d,c){var u,g;if(a.ItemClick&&!c||a.ItemDoubleClick&&c){g=c?g=a.ItemDoubleClickData:a.ItemClickData;var h=qv.util.dom.xmlDocument(d),n=qv.util.dom.selectXPathNode(h,"/DATA/ITEM"),d=qv.util.dom.selectXPathNode(h,
"/DATA/CONTEXT/RELATED"),h=qv.util.dom.selectXPathNode(h,"/DATA/CONTEXT/FILTERS");g.Name=n.getAttribute("name");u=n.getAttribute("location");g.Axis="rows"==u?"Row":"columns"==u?"Column":"pages"==u?"Page":"Data";g.Value=null!=n.firstChild?n.firstChild.nodeValue:"";g.Selected="true"==n.getAttribute("selected");n=[];for(u=0;u<a.Metadata.Axes.length;u++)a.Metadata.Axes[u].IsComponent&&n.push(a.Metadata.Axes[u].Name);for(u=0;u<a.Metadata.Data.length;u++)a.Metadata.Data[u].IsComponent&&n.push(a.Metadata.Data[u].Name);
g.Context=e(d,n);g.Filters=e(h,n);c?a.ItemDoubleClick():a.ItemClick()}},onItemExpandCollapseEvent:function(a,c,e){var u;IsQueryObjectPreview()&&window.external.SendText(a.ControlName,c);if(a.ItemExpand&&!e||a.ItemCollapse&&e){u=e?u=a.ItemCollapseData:a.ItemExpandData;var c=qv.util.dom.xmlDocument(c),g=qv.util.dom.selectXPathNode(c,"/DATA/ITEM"),c=qv.util.dom.selectXPathNode(c,"/DATA/CONTEXT/EXPANDEDVALUES");u.Name=g.getAttribute("name");u.Value=g.firstChild.nodeValue;u.ExpandedValues=[];for(var g=
-1,h=0;h<c.childNodes.length;h++)"VALUE"==c.childNodes[h].nodeName&&(g++,u.ExpandedValues[g]=c.childNodes[h].firstChild.nodeValue);e?a.ItemCollapse():a.ItemExpand()}},Select:function(a,c){a.oat_element.selectValue(c)},Deselect:function(a){a.oat_element.deselectValue()}}}();var HCChart,_highChartsDrawPointsWrapped,HIGHCHARTS_COLOR_PREFIX="highcharts-color-",HIGHCHARTS_MAX_COLORS=36,HIGHCHARTS_CUSTOM_COLOR=[],DEFAULTCHARTSPACING=10;
qv.chart=function(){function a(a){return"Timeline"==a.RealChartType||"SmoothTimeline"==a.RealChartType||"StepTimeline"==a.RealChartType}function c(c){return a(c)||"Sparkline"==c.RealChartType}function e(a){return"Pie"==a.RealChartType||"Pie3D"==a.RealChartType||"Doughnut"==a.RealChartType||"Doughnut3D"==a.RealChartType}function b(a){return"Radar"==a.RealChartType||"FilledRadar"==a.RealChartType||"PolarArea"==a.RealChartType}function d(a){return e(a)||"Funnel"==a.RealChartType||"Pyramid"==a.RealChartType}
function v(a){return("ColumnLine"==a.RealChartType||"Column3DLine"==a.RealChartType)&&1<a.Chart.Series.DataFields.length}function u(a){return"CircularGauge"==a.RealChartType||"LinearGauge"==a.RealChartType}function g(a){return"StackedColumn"==a.RealChartType||"StackedColumn3D"==a.RealChartType||"StackedColumn100"==a.RealChartType||"StackedBar"==a.RealChartType||"StackedBar100"==a.RealChartType||"StackedArea"==a.RealChartType||"StackedArea100"==a.RealChartType||"StackedLine"==a.RealChartType||"StackedLine100"==
a.RealChartType?!1:("InSeparateCharts"==a.PlotSeries||d(a))&&1<a.Chart.Series.DataFields.length}function h(a,c){for(var d=[],b=0;b<a.Charts.length;b++)for(var f=0;f<a.Charts[b].series.length;f++)d.push(a.Charts[b].series[f].data[c]);return d}function n(a,c,b,d,f){for(var B=0;B<a.Charts.length;B++)if(c.id!=a.Charts[B].container.id)for(var e=0;e<a.Charts[B].series.length;e++){var g=a.Charts[B].series[e].data[b];d?(f&&g.setState("hover"),a.Charts[B].tooltip.hide(0)):g.setState()}}function f(a){switch(a){case "Column":case "Column3D":case "StackedColumn":case "StackedColumn3D":case "StackedColumn100":case "PolarArea":return"column";
case "Bar":case "StackedBar":case "StackedBar100":case "LinearGauge":return"bar";case "Area":case "StackedArea":case "StackedArea100":case "FilledRadar":case "StepArea":return"area";case "SmoothArea":return"areaspline";case "Line":case "StackedLine":case "StackedLine100":case "Radar":case "Timeline":case "StepTimeline":case "Sparkline":case "StepLine":return"line";case "SmoothLine":case "SmoothTimeline":return"spline";case "ColumnLine":case "Column3DLine":return"column";case "Pie":case "Pie3D":case "Doughnut":case "Doughnut3D":return"pie";
case "Funnel":return"funnel";case "Pyramid":return"pyramid";case "CircularGauge":return"solidgauge";default:return"line"}}function k(a,c,b,d,f,B,e){function g(a,c){var d={};d.Name=a.Name;var b=y(a.DataType,a.Picture),b=D(c,a.Picture,a.DataType,b);d.Values=[b];return d}a.Name=b;a.Axis=d;a.Value=f;a.Selected=B;a.Context=[];for(b=0;b<c.Metadata.Axes.length;b++)d=c.Metadata.Axes[b],d.IsComponent||(d=g(d,e[d.DataField]),a.Context.push(d));for(b=0;b<c.Metadata.Data.length;b++)d=c.Metadata.Data[b],d.IsComponent||
(d=g(d,e[d.DataField]),a.Context.push(d));a.Filters=[]}function r(a,c){for(var d=!1,b=0;b<a.length;b++)for(var f=a[b],B=0;B<f.series.length;B++){var e=f.series[B].points[c];if(e.selected){e.select();break}else e.select(!0,0<B),d=!0}return d}function q(a){for(var c=0;c<a.length;c++){var d=a[c].getSelectedPoints();0<d.length&&d[0].select(!1,!1)}}function p(a){var c=qv.collection[this.chart.options.qv.viewerId],d=!1;if(c.SelectionAllowed())if("Point"==c.SelectionType){if(a.point.select(),d=a.point.selected,
"InSeparateCharts"==c.PlotSeries&&d)for(var b=0;b<c.Charts.length;b++){var f=c.Charts[b].series[0].points[a.point.index];f!=a.point&&f.select(!1)}}else d=r(c.Charts,a.point.index);c.ItemClick&&c.Metadata.Data[a.point.series.index].RaiseItemClick&&(b=c.Chart.Series.ByName[this.name],f=qv.util.formatNumber(a.point.y,b.NumberFormat.DecimalPrecision,b.Picture,!1),k(c.ItemClickData,c,b.FieldName,"Data",f,d,c.Data.Rows[a.point.index]),c.ItemClick())}function o(a,c){return""==c?qv.util.dom.createSpan(null,
"","","",{fontWeight:"bold"},null,a).outerHTML:qv.util.dom.createSpan(null,"","","",{fontWeight:"bold",color:c},null,a).outerHTML}function x(a,c){var d=Math.min(c.getContainerControl().offsetHeight,c.getContainerControl().offsetWidth)/(g(c)?c.Chart.Series.DataFields.length:1)/13;return qv.util.dom.createSpan(null,"","","",{color:K(c,a),fontSize:d+"px"},null,qv.util.formatNumber(a.point.y,2,"ZZZZZZZZZZZZZZ9.99",!0)+"%").outerHTML}function s(a,c){function d(a){for(var c=a.y,b=a.series.data,a=a.index,
l="",l=a,f=a+1;f<b.length&&b[f].y==c;f++)l=f;l<b.length-1&&l++;for(var e=a,f=a-1;0<=f&&b[f].y==c;f--)e=f;c=(b[l].x-b[e].x)/1E3;return l=" ("+gx.getMessage("GXPL_QViewerDuration")+": "+qv.util.seconsdToText(c)+")"}var b,f=qv.collection[a.points[0].series.chart.options.qv.viewerId];g(f)?b=h(f,a.points[0].point.index):(b=[],$.each(a.points,function(a,c){b.push(c.point)}));for(var B={},e=!1,k=0;k<b.length;k++){var H=b[k].series.name;void 0==B[H]&&(B[H]=[]);B[H].push(b[k]);1<B[H].length&&(e=!0)}var k=
"",S,C;for(C in B){var H=c[C],m=B[C],P=K(f,m[0]);e&&(k+=qv.util.dom.createSpan(null,"","","",{fontWeight:"bold",color:P},null,C).outerHTML+"<br/>");for(var J=0;void 0!=m[J];J++){var U=m[J],na=parseInt(U.real_x?U.real_x:U.x);if(0<b.length&&b[0].series.chart.options.qv.comparing)k+=U.name+": "+qv.util.formatNumber(U.y,H.NumberFormat.DecimalPrecision,H.Picture,!1)+"<br/>";else{S!=na&&(k+=U.name+"<br/>",S=na);var na="StepTimeline"==f.RealChartType?d(U):"",p=qv.util.dom.createSpan(null,"","","",{color:P},
null,C+": ").outerHTML,U=qv.util.dom.createSpan(null,"","","",{fontWeight:"bold"},null,qv.util.formatNumber(U.y,H.NumberFormat.DecimalPrecision,H.Picture,!1)).outerHTML,k=k+(p+U+na+"<br/>")}}}return k}function F(a){"undefined"===typeof _avoidSelectionEventHandler&&(_avoidSelectionEventHandler=!1);if(!_avoidSelectionEventHandler){L(ea,"none");ea=null;if(a.xAxis){var c=a.target.options.qv,b=a.xAxis[0];sa(a.target.options.qv.viewerId,100*((b.min-c.dataMin)/(c.dataMax-c.dataMin)),100*((b.max-c.dataMin)/
(c.dataMax-c.dataMin)))}else sa(a.target.options.qv.viewerId,0,100);c=qv.collection[a.target.options.qv.viewerId];if(g(c)){var c=c.getContainerControl().id,c=$("[id^="+c+"_chart]"),d=[];$.each(c,function(c,b){if(b.id!=a.target.renderTo.id){var f=$("#"+b.id).highcharts();d.push(f)}});$.each(d,function(c,d){a.xAxis?d.get("xaxis").setExtremes(b.min,b.max):(_avoidSelectionEventHandler=!0,d.zoomOut(),_avoidSelectionEventHandler=!1)})}}}function A(a,c,b,d,f){function e(a,c,b,d,l){function f(a,c){return"date"==
a?10==c.length:" "==c.charAt(10)}function B(a,c,b,d,l){var f=a.substr(0,4),e=a.substr(5,2),a=a.substr(8,2);d||(c=c.replace("M",""));l||(c=c.replace("D",""));for(var g="",C=0;C<c.length;C++)g+=0==C?"":"/",g+=c.charAt(C);c=g.replace("Y",b?f:f.substr(2,2));d&&(c=c.replace("M",e));l&&(c=c.replace("D",a));return c}var g,C;if(""!=a)switch(l||("date"==b?"Days":"Seconds")){case "Years":g=a.substr(0,4)+"-01-01";C=B(g,d,f(b,c),!1,!1);break;case "Months":g=a.substr(0,7)+"-01";C=B(g,d,f(b,c),!0,!1);break;case "Semesters":g=
"06">=a.substr(5,2)?"01":"07";g=a.substr(0,5)+g+"-01";l="06">=a.substr(5,2)?"01":"02";dateStrSemester=a.substr(0,5)+l+"-01";C=B(dateStrSemester,d,f(b,c),!0,!1);break;case "Quarters":g="03">=a.substr(5,2)?"01":"06">=a.substr(5,2)?"04":"09">=a.substr(5,2)?"07":"10";g=a.substr(0,5)+g+"-01";l="03">=a.substr(5,2)?"01":"06">=a.substr(5,2)?"02":"09">=a.substr(5,2)?"03":"04";dateStrQuarter=a.substr(0,5)+l+"-01";C=B(dateStrQuarter,d,f(b,c),!0,!1);break;case "Weeks":a=new gx.date.gxdate(a,"Y4MD");g=gx.date.dow(a);
a=gx.date.dtadd(a,-86400*(g-1));g=qv.util.dateToString(a,!1);C=B(g,d,f(b,c),!0,!0);break;case "Days":g="date"==b?a:a.substr(0,10);C="date"==b?c:c.substr(0,10);break;case "Hours":g=a.substr(0,13)+":00:00";C=c.substr(0,13)+":00";break;case "Minutes":g=a.substr(0,16)+":00";C=c.substr(0,16);break;case "Seconds":g=a,C=c}else C=g="";return{dateStr:g,name:C}}var g;g={dateStr:null,name:null};var k=[],H=[],S=[];for(i=0;i<c.length;i++){var C=a.Values[i].ValueWithPicture,m=a.Values[i].Value,P,J;null!=c[i].Value?
"Count"==d?(P=0,J=parseFloat(qv.util.trim(c[i].Value))):"Average"==d?(P=parseFloat(qv.util.trim(c[i].Value_N)),J=parseFloat(qv.util.trim(c[i].Value_D))):(P=parseFloat(qv.util.trim(c[i].Value)),J=1):(P=null,J=0);C=e(m,C,b,gx.dateFormat,f);C.dateStr==g.dateStr||0==i?(null!=P&&(k.push(P),H.push(J)),0==i&&(g=C)):(g={x:g.dateStr,y:qv.util.aggregate(d,k,H),name:g.name},S.push(g),g=C,k=[P],H=[J])}0<k.length&&0<H.length&&(g={x:g.dateStr,y:qv.util.aggregate(d,k,H),name:g.name},S.push(g));return S}function I(a){var c=
[],b=[],d="";for(i=0;i<a.Points.length;i++){var f,e;"Count"==a.Aggregation?(f=0,e=parseFloat(qv.util.trim(a.Points[i].Value))):"Average"==a.Aggregation?(f=parseFloat(qv.util.trim(a.Points[i].Value_N)),e=parseFloat(qv.util.trim(a.Points[i].Value_D))):(f=parseFloat(qv.util.trim(a.Points[i].Value)),e=1);c.push(f);b.push(e);""==d&&(d=a.Points[i].Color)}c=qv.util.aggregate(a.Aggregation,c,b).toString();a.Points=[{Value:c,Value_N:c,Value_D:"1",Color:d}];a.NegativeValues=0>c;a.PositiveValues=0<c}function z(c){var b,
d,f;a(c)?(c=DEFAULTCHARTSPACING,b=0,d=DEFAULTCHARTSPACING,f=0):f=d=b=c=DEFAULTCHARTSPACING;return[c,b,d,f]}function m(a,c){var b,d;b=3>=a?24:50/(a-1)-1;d=100-(b+1)*(c-1);return{Width:b,Center:d,LowerExtreme:d-b/2,UpperExtreme:d+b/2}}function G(a,c){var b=1/a/2,d=-0.5+(c-0.5)/a;return{Width:b,Center:d,LowerExtreme:d-b/2,UpperExtreme:d+b/2}}function D(a,c,b,d){switch(b){case "integer":case "real":return qv.util.formatNumber(a,d.DecimalPrecision,c,!1);case "boolean":case "character":case "guid":return qv.util.trim(a);
case "date":case "datetime":return qv.util.formatDateTime(a,b,d.DateFormat,d.IncludeHours,d.IncludeMinutes,d.IncludeSeconds,d.IncludeMilliseconds)}}function y(a,c){return"integer"==a||"real"==a?qv.util.ParseNumericPicture(a,c):"date"==a||"datetime"==a?qv.util.ParseDateTimePicture(a,c):null}function w(b){function f(a){a.Chart.Categories={};a.Chart.Categories.DataFields=[];for(var c=0;c<a.Metadata.Axes.length;c++){var b=a.Metadata.Axes[c];("Rows"==b.AxisType||"Columns"==b.AxisType)&&a.Chart.Categories.DataFields.push(b.DataField)}a.Chart.Series=
{};a.Chart.Series.DataFields=[];for(c=0;c<a.Metadata.Data.length;c++)a.Chart.Series.DataFields.push(a.Metadata.Data[c].DataField)}function e(a){for(var c={},b=0;b<a.Metadata.Axes.length;b++){var d=a.Metadata.Axes[b],f=y(d.DataType,d.Picture);c[d.DataField]={Picture:d.Picture,DataType:d.DataType,PictureProperties:f,Filter:d.Filter}}return c}function k(c,b){function f(c,b,e){function B(a){for(var c=!1,b=0;b<a.length;b++)if(m(a[b].StyleOrClass,!1)[0]){c=!0;break}return c}d(c)||"PolarArea"==c.RealChartType&&
1==c.Chart.Series.DataFields.length?e=!0:"Area"==c.RealChartType||"StackedArea"==c.RealChartType||"StackedArea100"==c.RealChartType||"SmoothArea"==c.RealChartType||"StepArea"==c.RealChartType||"Line"==c.RealChartType||"StackedLine"==c.RealChartType||"StackedLine100"==c.RealChartType||"SmoothLine"==c.RealChartType||"StepLine"==c.RealChartType||"Sparkline"==c.RealChartType||a(c)||"Radar"==c.RealChartType||"FilledRadar"==c.RealChartType?e=!1:1<c.Chart.Series.DataFields.length&&!g(c)?e=!1:(c=B(b.ConditionalStyles),
b=!1,null!=e&&(b=B(e.ValuesStyles)),e=c||b);return e}for(var e={},B=0;B<c.Metadata.Data.length;B++){var l=c.Metadata.Data[B],C=f(c,l,b);e[l.DataField]={Datum:l,Multicolored:C}}return e}function m(a,c){var b="",d=!1,f=c?"backgroundcolor":"color";if(""!=a){for(var e=a.split(";"),B=0;B<e.length;B++){var l=e[B].split(":");if(2==l.length){var g=l[1];if(l[0].toLowerCase()==f){b=g;d=""!=g;break}}}d&&"#"==b.substr(0,1)&&(b=b.replace("#",""))}return[d,b]}function B(a,c,b,d,f,e,B){function l(a,c){for(var b=
[!1,""],d=0;d<a.ValuesStyles.length;d++){var f=a.ValuesStyles[d];if(f.Value==c){b=m(f.StyleOrClass,!1);break}}return b}function g(a,c){for(var b=[!1,""],d=!1,f=0;f<a.ConditionalStyles.length;f++){var e=a.ConditionalStyles[f];if(d=qv.util.satisfyStyle(c,e)){b=m(e.StyleOrClass,!1);break}}return b}var C,H=-1,k=!1;if(a){if(a=!1,null!=b&&(b=l(b,e),a=b[0],C=b[1]),!a)b=g(c,B),a=b[0],C=b[1],a||(H=f%HIGHCHARTS_MAX_COLORS,k=!0)}else b=m(c.Style,!1),a=b[0],C=b[1],a||(H=d%HIGHCHARTS_MAX_COLORS,k=!0);return{IsDefault:k,
Color:C,ColorIndex:H}}function ha(a,c,b,d){for(var f="",e="",B=0;B<a.Chart.Categories.DataFields.length;B++){var l=a.Chart.Categories.DataFields[B],g;void 0!=c[l]?(g=qv.util.trim(c[l]),l=D(g,d[l].Picture,d[l].DataType,d[l].PictureProperties)):l=g=a.Metadata.TextForNullValues;f+=(""==f?"":", ")+g;e+=(""==e?"":", ")+l}c=[f,e];d={};d.Value=c[0];d.ValueWithPicture=c[1];a.Chart.Categories.Values.push(d);if(0==b)a.Chart.Categories.MinValue=d.Value,a.Chart.Categories.MaxValue=d.Value;else if(d.Value>a.Chart.Categories.MaxValue&&
(a.Chart.Categories.MaxValue=d.Value),d.Value<a.Chart.Categories.MinValue)a.Chart.Categories.MinValue=d.Value}function Da(a,c,b,d,f){for(var e=0;e<a.Chart.Series.DataFields.length;e++){var l=a.Chart.Series.ByIndex[e],g=a.Chart.Series.DataFields[e],C=void 0!=c[g]?c[g]:null,H={};H.Value=C;var k=d[g].Datum,S=d[g].Multicolored;if("Average"==k.Aggregation){var ha=c[g+"_N"],g=c[g+"_D"];void 0==ha&&void 0==g&&(ha=C,g="1");H.Value_N=ha;H.Value_D=g}H.Color=S?B(S,k,f,0,b,a.Chart.Categories.Values[b].Value,
C):ta("");l.Points.push(H);0<H.Value&&(l.PositiveValues=!0);0>H.Value&&(l.NegativeValues=!0)}}function H(a,c){for(var b=0;b<c.ConditionalStyles.length;b++){var d=c.ConditionalStyles[b],f=m(d.StyleOrClass,!0),e=f[1];if(f[0]){plotBand={};plotBand.Color=ta(e);if("IN"==d.Operator)plotBand.From=parseFloat(d.Value1),plotBand.To=parseFloat(d.Value2);else if("EQ"==d.Operator)plotBand.From=parseFloat(d.Value1),plotBand.To=parseFloat(d.Value1);else if("GE"==d.Operator||"GT"==d.Operator)plotBand.From=parseFloat(d.Value1);
else if("LE"==d.Operator||"LT"==d.Operator)plotBand.To=parseFloat(d.Value1);plotBand.SeriesName=""!=c.Title?c.Title:c.Name;a.Chart.PlotBands.push(plotBand)}}}function S(a,c){for(var b=!1,d=0;d<a.Metadata.Axes.length;d++){var f=a.Metadata.Axes[d];if("Rows"==f.AxisType||"Columns"==f.AxisType||"Pages"==f.AxisType)if("HideAllValues"==f.Filter.Type){b=!0;break}else if("ShowSomeValues"==f.Filter.Type){var e=qv.util.trim(c[f.DataField]);if(0>f.Filter.Values.indexOf(e)){b=!0;break}}}return b}if(function(a){return c(a)?
(a=Q(a),"date"==a||"datetime"==a):!0}(b)){b.Chart={};f(b);b.Chart.Categories.MinValue=null;b.Chart.Categories.MaxValue=null;b.Chart.Categories.Values=[];var C=e(b);b.Chart.Series.ByName={};b.Chart.Series.ByIndex=[];var p=1==b.Chart.Categories.DataFields.length?fa(b,b.Chart.Categories.DataFields[0]):null,P=k(b,p);b.Chart.PlotBands=[];for(var J=0;J<b.Chart.Series.DataFields.length;J++){var n=b.Chart.Series.DataFields[J],o=P[n].Datum,h={},n=P[n].Multicolored;h.FieldName=o.Name;h.Name=""!=o.Title?o.Title:
o.Name;h.DataType=o.DataType;h.Aggregation=o.Aggregation;var q=o.Picture;h.Picture=""==q?"integer"==h.DataType?"ZZZZZZZZZZZZZZ9":"ZZZZZZZZZZZZZZ9.99":q;h.NumberFormat=qv.util.ParseNumericPicture(h.DataType,h.Picture);h.Color=n?ta(""):B(n,o,p,J,0,"",0);h.TargetValue=o.TargetValue;h.MaximumValue=o.MaximumValue;t(h);h.PositiveValues=!1;h.NegativeValues=!1;h.Points=[];b.Chart.Series.ByName[h.Name]=h;b.Chart.Series.ByIndex.push(h);H(b,o)}for(J=o=0;J<b.Data.Rows.length;J++)h=b.Data.Rows[J],S(b,h)||(ha(b,
h,o,C),Da(b,h,o,P,p),o++);if(u(b))for(J=0;J<b.Chart.Series.DataFields.length;J++)h=b.Chart.Series.ByIndex[J],I(h);return""}return gx.getMessage("GXPL_QViewerNoDatetimeAxis")}function t(a){0>=a.TargetValue&&(a.TargetValue=100);0>=a.MaximumValue&&(a.MaximumValue=100);a.MaximumValue<a.TargetValue&&(a.MaximumValue=a.TargetValue)}function M(a){a._themeStyleSheet||(a._themeStyleSheet=R(gx.theme+".css"));return a._themeStyleSheet}function R(a){for(var c,b=0;b<document.styleSheets.length;b++)if(null!=document.styleSheets[b].href&&
0<=document.styleSheets[b].href.indexOf(a)){c=document.styleSheets[b];break}return c}function E(a,c,b){for(var d=0,f=0;f<c.cssRules.length;f++){var e=c.cssRules[f];if(e.selectorText&&0==e.selectorText.indexOf(b)){var g=e.selectorText.replace(b,"");a[g]=e.style.fill;d++}if(d==HIGHCHARTS_MAX_COLORS)break}}function K(a,c){var b;b=c.className&&0==c.className.indexOf("highcharts-color-")?parseInt(c.className.replace("highcharts-color-","")):c.colorIndex;if(b<HIGHCHARTS_MAX_COLORS){if(!a._HighchartsDefaultColors){a._HighchartsDefaultColors=
[];var d={},f,e;a._queryViewerStyleSheet||(a._queryViewerStyleSheet=R("QueryViewer.css"));f=a._queryViewerStyleSheet;E(d,f,".highcharts-color-");""!=a.Class&&(f=M(a),e="."+qv.util.GetContainerControlClass(a)+" .highcharts-color-",E(d,f,e));for(f=0;f<HIGHCHARTS_MAX_COLORS;f++)a._HighchartsDefaultColors.push(d[f.toString()])}b=a._HighchartsDefaultColors[b]}else b=HIGHCHARTS_CUSTOM_COLOR[b-HIGHCHARTS_MAX_COLORS],6===b.length&&!isNaN(parseInt(b,16))&&(b="#"+b);return b}function ta(a){return{IsDefault:!1,
Color:a,ColorIndex:"-1"}}function aa(a){return a.IsDefault?0>a.ColorIndex:""==a.Color}function X(a,c,b,d){if(!aa(b)){if(b.IsDefault)a=b.ColorIndex;else{var f=b.Color,b=HIGHCHARTS_CUSTOM_COLOR.indexOf(f);if(0>b){HIGHCHARTS_CUSTOM_COLOR.push(f);var b=HIGHCHARTS_CUSTOM_COLOR.length-1,b=HIGHCHARTS_MAX_COLORS+b,e=6===f.length&&!isNaN(parseInt(f,16))?"#":"",f="."+HIGHCHARTS_COLOR_PREFIX+b+" {fill: "+e+f+"; stroke: "+e+f+";}",a=M(a);a.insertRule(f,a.cssRules.length)}else b=HIGHCHARTS_MAX_COLORS+b;a=b}d?
c.colorIndex=a:c.className=HIGHCHARTS_COLOR_PREFIX+a}}function ya(l,k,q){var t="date"==Q(l)?"Days":"Seconds",r={qv:{}};r.qv.viewerId=l.userControlId();r.chart=function(c,b){var d={styledMode:!0};d.spacing=z(c);if(g(c)){var e=c.userControlId(),e=a(c)?ia(e):e;d.renderTo=document.getElementById(e+"_chart"+b.toString())}else d.renderTo=a(c)?document.getElementById(ia(c.userControlId())):c.getContainerControl();v(c)||(d.type=f(c.RealChartType));"Radar"==c.RealChartType||"FilledRadar"==c.RealChartType||
"PolarArea"==c.RealChartType?d.polar=!0:"Column3D"==c.RealChartType||"StackedColumn3D"==c.RealChartType||"Column3DLine"==c.RealChartType?d.options3d={enabled:!0,alpha:15,beta:15,depth:50,viewDistance:25}:"Pie3D"==c.RealChartType||"Doughnut3D"==c.RealChartType?d.options3d={enabled:!0,alpha:45,beta:0}:a(c)&&(d.zoomType="x",d.resetZoomButton={theme:{display:"none"}},d.events={},d.events.selection=function(a){F(a)});return d}(l,q);r.credits={enabled:!1};r.legend={enabled:1<l.Chart.Series.DataFields.length&&
!g(l)||d(l),margin:0};r.title=""==l.Title?{text:null}:{text:null==q||0==q?l.Title:null};r.subtitle=function(a,c){var b={};if(g(a)&&(d(a)||"CircularGauge"==a.RealChartType))b.text=c.Name,b.floating=!0,b.align="left",b.verticalAlign="middle";return b}(l,k);r.pane=function(a,c){var b={};if("CircularGauge"==a.RealChartType){b.background=[];var d;g(a)&&(d=m(1,1));var f=0,e;for(e in a.Chart.Series.ByName){if(!g(a)||f==c){var l=a.Chart.Series.ByName[e],k={};g(a)||(d=m(a.Chart.Series.DataFields.length,f+
1));k.outerRadius=d.UpperExtreme.toString()+"%";k.innerRadius=d.LowerExtreme.toString()+"%";l=aa(l.Color)?l.Points[0].Color:l.Color;X(a,k,l,!1);k.borderWidth=0;b.background.push(k)}f++}}return b}(l,q);r.xAxis=function(a,d){xAxis={};if("CircularGauge"!=a.RealChartType){var f=c(a);if("Radar"!=a.RealChartType&&"FilledRadar"!=a.RealChartType&&"PolarArea"!=a.RealChartType&&"LinearGauge"!=a.RealChartType&&"Sparkline"!=a.RealChartType){var e=xAxis,l="";if(""==a.XAxisTitle)for(var C=0;C<a.Metadata.Axes.length;C++){var k=
a.Metadata.Axes[C];if("Rows"==k.AxisType||"Columns"==k.AxisType)l+=(""==l?"":", ")+gx.getMessage(k.Title)}else l=gx.getMessage(a.XAxisTitle);e.title={text:l}}else{"Sparkline"==a.RealChartType&&g(a)&&(xAxis.title={text:a.Chart.Series.ByIndex[d].Name});xAxis.lineWidth=0;if("LinearGauge"==a.RealChartType||"Sparkline"==a.RealChartType)xAxis.tickPositions=[];xAxis.tickmarkPlacement="Radar"==a.RealChartType||"FilledRadar"==a.RealChartType?"on":"between"}if("LinearGauge"==a.RealChartType){var e=0,h;g(a)&&
(h=G(1,1));xAxis.plotBands=[];for(var m in a.Chart.Series.ByName){if(!g(a)||e==d)l=a.Chart.Series.ByName[m],g(a)||(h=G(a.Chart.Series.DataFields.length,e+1)),plotBand={},l=aa(l.Color)?l.Points[0].Color:l.Color,X(a,plotBand,l,!1),plotBand.from=h.LowerExtreme,plotBand.to=h.UpperExtreme,xAxis.plotBands.push(plotBand);e++}}f||(xAxis.categories=[]);h=!1;for(e=0;e<a.Chart.Categories.Values.length;e++)""!=a.Chart.Categories.Values[e].ValueWithPicture&&(h=!0),f||(xAxis.categories[e]=a.Chart.Categories.Values[e].ValueWithPicture);
if(f)xAxis.type="datetime",xAxis.id="xaxis",xAxis.minRange=1,"date"==Q(a)&&(null!=a.Chart.Categories.MaxValue&&null!=a.Chart.Categories.MinValue)&&(f=new gx.date.gxdate(a.Chart.Categories.MinValue,"Y4MD"),864E6>(new gx.date.gxdate(a.Chart.Categories.MaxValue,"Y4MD")).Value.getTime()-f.Value.getTime()&&(xAxis.tickInterval=864E5));else if(xAxis.labels={},xAxis.labels.enabled=h,"Horizontally"!=a.XAxisLabels&&!("Bar"==a.RealChartType||"StackedBar"==a.RealChartType||"StackedBar100"==a.RealChartType)&&
!b(a))"Vertically"==a.XAxisLabels?(f=90,h=5):(f=parseInt(a.XAxisLabels.replace("Rotated","")),h=10),xAxis.labels.rotation=360-f,xAxis.labels.y=h,xAxis.labels.align="right";b(a)?xAxis.className="highcharts-no-axis-line highcharts-yes-grid-line":"Sparkline"==a.RealChartType&&(xAxis.className="highcharts-no-axis-line highcharts-no-grid-line")}return xAxis}(l,q);r.yAxis=function(a,c){function b(a){if(0==a.length)return!1;for(var c,d=0;d<a.length;d++)if(0==d)c=a[d].Picture;else if(a[d].Picture!=c)return!1;
return!0}if("Sparkline"==a.RealChartType)yAxis={visible:!1};else{var d;d="CircularGauge"==a.RealChartType?null:g(a)?c.Name:ja(a);v(a)&&!g(a)?(yAxis=[],yAxis[0]={title:{text:d}},yAxis[1]={title:{text:""},opposite:!0}):yAxis={title:{text:d}};yAxis.plotLines=[];yAxis.plotBands=[];if(!e(a)&&!("Funnel"==a.RealChartType||"Pyramid"==a.RealChartType)&&!u(a)){for(var f=0;f<a.Chart.PlotBands.length;f++){var l=a.Chart.PlotBands[f];if(null==c||c.Name==l.SeriesName)l.From==l.To&&null!=l.From?(d={value:l.From,
width:1,zIndex:3},X(a,d,l.Color,!1),yAxis.plotLines.push(d)):(d={},X(a,d,l.Color,!1),d.from=!l.From?Number.MIN_VALUE:l.From,d.to=!l.To?Number.MAX_VALUE:l.To,yAxis.plotBands.push(d))}if(g(a)||1==a.Chart.Series.ByIndex.length||b(a.Chart.Series.ByIndex)){var k=g(a)?c:a.Chart.Series.ByIndex[0];yAxis.labels={};yAxis.labels.formatter=function(){return qv.util.formatNumber(this.value,k.NumberFormat.DecimalPrecision,k.Picture,true)}}}if("Radar"==a.RealChartType||"FilledRadar"==a.RealChartType||"PolarArea"==
a.RealChartType)yAxis.min=0,yAxis.gridLineInterpolation="Radar"==a.RealChartType||"FilledRadar"==a.RealChartType?"polygon":"circle";if(u(a)){yAxis.min=0;yAxis.max=0;for(var h in a.Chart.Series.ByName)if(!g(a)||h==c.Name)d=a.Chart.Series.ByName[h],yAxis.max=Math.max(yAxis.max,100*d.MaximumValue/d.TargetValue);if("LinearGauge"==a.RealChartType||100!=yAxis.max){d={className:"highcharts-dashed-plot-line",value:100};if(g(a)||1==a.Chart.Series.DataFields.length){var f=g(a)?c:a.Chart.Series.ByIndex[0],m,
o;"LinearGauge"==a.RealChartType?(l=-10,m=-5,o="right"):(l=15,m=0,o="center");d.label={text:f.TargetValue,verticalAlign:"bottom",rotation:0,y:l,x:m,align:o}}yAxis.plotLines.push(d)}}"LinearGauge"==a.RealChartType?(yAxis.className="highcharts-no-axis-line highcharts-no-grid-line",yAxis.labels={enabled:!1}):"CircularGauge"==a.RealChartType&&(yAxis.lineWidth=0,yAxis.tickPositions=[]);if(gx.lang.gxBoolean(a.XAxisIntersectionAtZero)){l=f=!1;for(h in a.Chart.Series.ByName)d=a.Chart.Series.ByName[h],d.PositiveValues&&
(f=!0),d.NegativeValues&&(l=!0);l||(v(a)&&!g(a)?(yAxis[0].min=0,yAxis[1].min=0):yAxis.min=0);f||(v(a)&&!g(a)?(yAxis[0].max=0,yAxis[1].max=0):yAxis.max=0)}}return yAxis}(l,k);r.plotOptions=function(c,b){function d(a){var b;b=g(a)||1==a.Chart.Series.DataFields.length?23*(g(a)?a.Chart.Series.DataFields.length:1):29;return a.getContainerControl().offsetHeight-b}function f(a){var b={radius:1,symbol:"circle",states:{hover:{radius:4}}};a.SelectionAllowed()&&(b.states.select={radius:5,lineWidth:1});return b}
var e=gx.lang.gxBoolean(b.ShowValues),l={series:{}};l.series.events={};"CircularGauge"==b.RealChartType?(l.series.dataLabels={},l.series.dataLabels.enabled=1==b.Chart.Series.DataFields.length&&gx.lang.gxBoolean(b.ShowValues)||g(b),l.series.dataLabels.y=0,l.series.dataLabels.borderWidth=0,l.series.dataLabels.formatter=function(){return x(this,b)},l.series.marker={enabled:!1}):e&&(l.series.dataLabels={},l.series.dataLabels.enabled=!0,l.series.dataLabels.connectorColor="#000000",l.series.dataLabels.formatter=
function(){var a=b.Chart.Series.ByName[this.series.name];return qv.util.formatNumber(this.point.y*("LinearGauge"==b.RealChartType?a.TargetValue/100:1),a.NumberFormat.DecimalPrecision,a.Picture,!1)},"LinearGauge"==b.RealChartType&&(l.series.dataLabels.inside=!0));if(g(b)&&"CircularGauge"!=b.RealChartType){l.series.point={};l.series.point.events={};var k="LinearGauge"!=b.RealChartType;l.series.point.events.mouseOver=function(){n(b,this.series.chart.container,this.index,true,k)};l.series.point.events.mouseOut=
function(){n(b,this.series.chart.container,this.index,false,k)}}if(b.ItemClick||b.SelectionAllowed())l.series.events.click=p;switch(c){case "bar":l.bar={};"StackedBar"==b.RealChartType?(l.series.stacking="normal",l.bar.stacking="normal"):"StackedBar100"==b.RealChartType&&(l.series.stacking="percent",l.bar.stacking="percent");if("LinearGauge"==b.RealChartType){e=G(b.Chart.Series.DataFields.length,1).Width*d(b);l.bar.pointWidth=e;l.bar.pointPadding=0;l.bar.groupPadding=0;for(var h=Number.MAX_VALUE,
m=0;m<b.Chart.Series.DataFields.length;m++){var o=b.Chart.Series.ByIndex[m],o=o.Points[0].Value/o.TargetValue;o<h&&(h=o)}h*=b.getContainerControl().offsetWidth;l.bar.borderRadius=Math.min(e/2,h/2)}break;case "column":l.column={};"StackedColumn"==b.RealChartType||"StackedColumn3D"==b.RealChartType||"PolarArea"==b.RealChartType?(l.series.stacking="normal",l.column.stacking="normal"):"StackedColumn100"==b.RealChartType&&(l.series.stacking="percent",l.column.stacking="percent");"PolarArea"==b.RealChartType&&
(l.column.pointPadding=0,l.column.groupPadding=0);break;case "area":l.area={};"StepArea"==b.RealChartType&&(l.area.step="center");l.area.marker=f(b);"StackedArea"==b.RealChartType?l.area.stacking="normal":"StackedArea100"==b.RealChartType&&(l.area.stacking="percent");break;case "areaspline":l.areaspline={};l.areaspline.marker=f(b);break;case "line":l.line={};l.line.marker=f(b);"StepLine"==b.RealChartType?l.line.step="center":"StepTimeline"==b.RealChartType&&(l.line.step="left");a(b)?l.series.connectNulls=
!0:"StackedLine"==b.RealChartType?l.line.stacking="normal":"StackedLine100"==b.RealChartType&&(l.line.stacking="percent");break;case "spline":l.spline={};l.spline.marker=f(b);break;case "pie":l.pie={};if("Doughnut"==b.RealChartType||"Doughnut3D"==b.RealChartType)l.pie.innerSize="35%";if("Pie3D"==b.RealChartType||"Doughnut3D"==b.RealChartType)l.pie.depth=35;l.pie.dataLabels={enabled:e};l.pie.showInLegend=!0;break;case "solidgauge":l.solidgauge={};l.solidgauge.showInLegend=!0;l.solidgauge.rounded=!0;
break;case "funnel":l.funnel={};l.funnel.showInLegend=!0;l.funnel.dataLabels={enabled:e};break;case "pyramid":l.pyramid={},l.pyramid.showInLegend=!0,l.pyramid.dataLabels={enabled:e}}return l}(r.chart.type,l);r.tooltip=function(b){var c={};a(b)?(c.borderRadius=1,c.shadow=!0,c.shared=!0,c.useHTML=!1,c.formatter=function(){return s(this,b.Chart.Series.ByName)}):"StackedColumn100"==b.RealChartType||"StackedBar100"==b.RealChartType||"StackedArea100"==b.RealChartType||"StackedLine100"==b.RealChartType?
c.formatter=function(){return"<b>"+(""!=this.point.id?this.point.id:this.series.name)+"</b>: "+Math.round(100*this.point.percentage)/100+"%"}:e(b)?c.formatter=function(){var a;if(g(b)){a=qv.collection[this.point.series.chart.options.qv.viewerId];var c=d(a),f=h(a,this.point.index),e=0<f.length?f[0].id:"",l=""!=e,k="";l&&(k+=o(e,c?K(a,this):""));for(e=0;e<f.length;e++)var m=f[e],k=k+((l||0<e?"<br/>":"")+o(m.series.name+": ",c?"":K(a,m.series))),m=Math.round(100*m.percentage)/100,k=k+(m+"%");a=k}else m=
Math.round(100*this.point.percentage)/100,a="<b>"+(""!=this.point.name?this.point.name:this.point.series.name)+"</b>: "+m+"%";return a}:"CircularGauge"==b.RealChartType?(c.enabled=(1<b.Chart.Series.DataFields.length||!gx.lang.gxBoolean(b.ShowValues))&&!g(b),c.formatter=function(){return x(this,b)},c.positioner=function(a){return{x:(this.chart.plotWidth-a)/2,y:this.chart.plotHeight/2}}):c.formatter=function(){var a;var c=b.Chart.Series.ByName;if(!g(b)||u(b)){a=qv.collection[this.series.chart.options.qv.viewerId];
var f=c[this.series.name],c=u(a)?"ZZZZZZZZZZZZZZ9.99":f.Picture,e=u(a)?2:f.NumberFormat.DecimalPrecision,f=u(a);a="<b>"+(""!=this.point.id?this.point.id:this.series.name)+"</b>: "+qv.util.formatNumber(this.point.y,e,c,f)+(u(a)?"%":"")}else{this.points?(a=this.points[0],f=a.point.index):(a=this.point,f=a.index);a=qv.collection[a.series.chart.options.qv.viewerId];var e=d(a),l=h(a,f),f=!this.key?!this.x?"":this.x:this.key,k=""!=f&&"Sparkline"!=a.RealChartType,m="";k&&(m+=o(f,e?K(a,this):""));for(var p=
0;p<l.length;p++)var N=l[p],f=c[N.series.name],m=m+((k||0<p?"<br/>":"")+o(N.series.name+": ",e?"":K(a,N))),m=m+qv.util.formatNumber(N.y,f.NumberFormat.DecimalPrecision,f.Picture,!1);a=m}return a};return c}(l);r.series=function(b,d,f){var e=[],l=0,k;for(k in b.Chart.Series.ByName){if(!g(b)||l==d){var h;h=b;var o=b.Chart.Series.ByName[k],p=l,N=f,r={};h.ItemClick&&h.Metadata.Data[p].RaiseItemClick&&(r.className="highcharts-drilldown-point");if(a(h)){r.name=o.Name;r.data=[];r.turboThreshold=0;aa(o.Color)||
X(h,r,o.Color,!0);N=A(h.Chart.Categories,o.Points,Q(h),o.Aggregation,N);for(j=0;j<N.length;j++){var p=N[j].name,q=N[j].x,n=N[j].y,q=new gx.date.gxdate(q,"Y4MD");r.data[j]={x:q.Value.getTime()-6E4*q.Value.getTimezoneOffset(),y:n,name:p};aa(o.Color)&&X(h,r.data[j],o.Points[j].Color,!0)}}else{N=void 0;"CircularGauge"==h.RealChartType&&(N=g(h)?m(1,1):m(h.Chart.Series.DataFields.length,p+1));r.name=o.Name;r.data=[];r.turboThreshold=0;aa(o.Color)||X(h,r,o.Color,!0);if("Radar"==h.RealChartType||"FilledRadar"==
h.RealChartType||"PolarArea"==h.RealChartType)r.pointPlacement="Radar"==h.RealChartType||"FilledRadar"==h.RealChartType?"on":null;for(j=0;j<o.Points.length;j++)(n=null!=o.Points[j].Value?parseFloat(qv.util.trim(o.Points[j].Value).replace(",",".")):null,u(h)&&(n=100*(n/o.TargetValue)),p=h.Chart.Categories.Values[j].ValueWithPicture,r.data[j]={},r.data[j].y=n,r.data[j].name=u(h)?"":p,r.data[j].id=r.data[j].name,c(h)&&(q=h.Chart.Categories.Values[j].Value,q=new gx.date.gxdate(q,"Y4MD"),r.data[j].x=q.Value.getTime()-
6E4*q.Value.getTimezoneOffset(),r.data[j].id=q),"CircularGauge"==h.RealChartType&&(r.data[j].radius=N.UpperExtreme.toString()+"%",r.data[j].innerRadius=N.LowerExtreme.toString()+"%"),"CircularGauge"==h.RealChartType)?(p=aa(o.Color)?o.Points[0].Color:o.Color,X(h,r.data[j],p,!0)):aa(o.Color)&&X(h,r.data[j],o.Points[j].Color,!0)}h=r;o=null!=d?d:l;v(b)&&(0==o%2?(h.type="column",h.yAxis=0):(h.type="line",h.yAxis=g(b)?0:1));e.push(h)}l++}return e}(l,q,t);return r}function fa(a,b){for(var c=0;c<a.Metadata.Axes.length;c++)if(a.Metadata.Axes[c].DataField==
b)return a.Metadata.Axes[c]}function Q(a){for(var b=0,c="",d=0;d<a.Metadata.Axes.length;d++){var f=a.Metadata.Axes[d];if("Rows"==f.AxisType||"Columns"==f.AxisType)b++,c=f.DataType}return 1==b?c:"character"}function ja(a){var b="";if(""==a.YAxisTitle){if(1==a.Chart.Series.DataFields.length){var c;a:for(b=0;b<a.Metadata.Data.length;b++)if(a.Metadata.Data[b].DataField==a.Chart.Series.DataFields[0]){c=a.Metadata.Data[b];break a}b=gx.getMessage(c.Title)}}else b=gx.getMessage(a.YAxisTitle);return b}function O(a){return!isNaN(parseFloat(a))&&
isFinite(a)?gx.dom.el(ba+"_Zoom_"+a+"m"):gx.dom.el(a)}function L(a,b){if(zoom=O(a))zoom.style.textDecoration=b}function za(a){if(zoom=O(a))zoom.onclick();else if(0!=a){var b;switch(a){case 12:b=6;break;case 6:b=3;break;case 3:b=2;break;case 2:b=1;break;case 1:b=0}za(b)}}function Aa(a,b){gx.dom.el(a+"_options_compare_enable").disabled=!b;gx.dom.el(a+"_options_compare_text").disabled=!b;gx.dom.el(a+"_options_compare_text").style.opacity=!b?0.5:1;gx.dom.el(a+"_options_compare_options").disabled=!b;gx.dom.el(a+
"_options_compare_options").style.opacity=!b?0.5:1}function da(a){return a+"_options"}function ia(a){return a+"_center"}function ca(a){return a+"_footer_slider"}function ua(a){return a+"_footer_chart"}function ga(a){return a+"_footer_range"}function oa(a){return a+"_footer_left_cursor"}function pa(a){return a+"_footer_right_cursor"}function ka(a){return a+"_footer_center"}function sa(a,b,c){var d=Math.max(b,0),b=Math.min(d,100),d=Math.max(c,0),c=Math.min(d,100);$("#"+(a+"_footer")).css("width","100%").css("height",
Y.toString()+"px");$("#"+ua(a)).css("width","100%").css("height",(Y-2).toString()+"px");d=qv.collection[a].getContainerControl().offsetWidth;b=b*d/100;c=(100-c)*d/100;if(d-b-c<2*Z){var f=2*Z-(d-b-c),e;e=0==f%2?f/2:(f+1)/2;b-=e;c-=f-e;0>b&&(c+=b,b=0);0>c&&(b+=c,c=0)}$("#"+ca(a)).css("width","100%").css("height",Y.toString()+"px").css("padding-left",(100*b/d).toString()+"%").css("padding-right",(100*c/d).toString()+"%");$("#"+ga(a)).css("width","100%").css("height",Y.toString()+"px");$("#"+oa(a)).css("width",
Z.toString()+"px").css("height",Y.toString()+"px");$("#"+pa(a)).css("width",Z.toString()+"px").css("height",Y.toString()+"px");$("#"+ka(a)).css("width","calc(100% - "+2*Z+"px)").css("height",Y.toString()+"px").css("left",Z.toString()+"px")}function Ba(a,b){var c=parseInt($("#"+ca(a)).css("padding-left")),d=parseInt($("#"+ga(a)).css("width")),f;f=b.originalEvent.touches?b.originalEvent.touches[0].pageX-b.originalEvent.touches[0].target.offsetLeft:b.offsetX;switch(b.target.id){case ca(a):return f;case oa(a):return f+
c;case ka(a):return f+c;case pa(a):return f+c+d-Z}}function Ea(b){function c(a){a.preventDefault();T=b;var d=$("#"+ca(T)),f=$("#"+ga(T));parseInt(d.css("padding-left"));Ca=Ba(T,a);qa=parseInt(d.css("padding-left"));va=parseInt(d.css("padding-right"));ra=parseInt(d.css("width"));wa=parseInt(f.css("width"))}function d(){if(la||V||W){var b=$("#"+ca(T)),c=qv.collection[T],f=gx.dom.el(T+"_options_compare_enable").checked,e=c.getContainerControl().offsetWidth,l;l=a(c)?ia(c.userControlId()):c.getContainerControl().id;
var c=g(c)?$("[id^="+l+"_chart]"):$("#"+l),k=[];$.each(c,function(a,b){var c=$("#"+b.id).highcharts();k.push(c)});c=k[0];l=parseInt(b.css("padding-left"));var h=parseInt(b.css("padding-right")),b=100*l/e,e=100*(1-h/e);if(0==b&&100==e)$.each(k,function(a,b){b.zoomOut()});else{c.get("xaxis").getExtremes();var c=c.options.qv,m=c.dataMin+b/100*(c.dataMax-c.dataMin),o=c.dataMin+e/100*(c.dataMax-c.dataMin),r=f?!1:!0;$.each(k,function(a,b){b.get("xaxis").setExtremes(m,o,r)})}f&&ma(k);if(V||W)L(ea,"none"),
ea=null}V=W=la=!1}function f(a){if(la||V||W)if(a=Ba(T,a)-Ca,a=W?Math.min(a,wa-2*Z):Math.min(a,va),a=V?Math.max(a,-wa+2*Z):Math.max(a,-qa),0!=a){$("#"+ka(T));var b=$("#"+ca(T));$("#"+ga(T));W?b.css("padding-left",(100*(qa+a)/ra).toString()+"%"):(V||b.css("padding-left",(100*(qa+a)/ra).toString()+"%"),b.css("padding-right",(100*(va-a)/ra).toString()+"%"))}}var e=$("#"+oa(b)),k=$("#"+pa(b)),h=$("#"+ka(b)),m=$("#"+ca(b));$("#"+ga(b));e.mousedown(function(a){a.preventDefault();W=!0});k.mousedown(function(a){a.preventDefault();
V=!0});h.mousedown(function(a){a.preventDefault();!W&&!V&&(la=!0)});m.mousedown(function(a){c(a)});$(document).mouseup(function(a){d(a)});m.mousemove(function(a){f(a)});e.on("touchstart",function(a){a.preventDefault();W=!0});k.on("touchstart",function(a){a.preventDefault();V=!0});h.on("touchstart",function(a){a.preventDefault();!W&&!V&&(la=!0)});m.on("touchstart",function(a){c(a)});$(document).on("touchend",function(a){d(a)});$(document).on("touchcancel",function(a){d(a)});m.on("touchmove",function(a){f(a)})}
function Fa(a,b){var c=qv.util.dom.createDiv(a,ca(b),"gx-qv-footer-slider","",{},""),c=qv.util.dom.createDiv(c,ga(b),"gx-qv-footer-range","",{},"");qv.util.dom.createDiv(c,oa(b),"gx-qv-footer-left-cursor","",{},"");qv.util.dom.createDiv(c,pa(b),"gx-qv-footer-right-cursor","",{},"");qv.util.dom.createDiv(c,ka(b),"gx-qv-footer-center","",{},"");qv.util.dom.createDiv(a,ua(b),"gx-qv-footer-chart","",{},"")}function Ga(a,b){var c=ua(a.userControlId()),d="SmoothTimeline"==a.RealChartType?"spline":"line",
f="StepTimeline"==a.RealChartType?"left":"",e=[];if(g(a))for(k=0;k<b.length;k++)e.push(b[k].series[0]);else for(var k=0;k<b[0].series.length;k++)e.push(b[0].series[k]);return qv.chart.getSparklineChartOptions(a,c,d,!1,f,e)}function ma(a){var b=a[0],c=b.options.qv.viewerId,d=qv.collection[c],f=gx.dom.el(c+"_options_compare_enable").checked;$.each(a,function(a,b){b.options.qv.comparing=f});var e=b.get("xaxis").getExtremes();void 0!=e.userMin&&(e.min=e.userMin);void 0!=e.userMax&&(e.max=e.userMax);if(f){var k=
gx.dom.el(c+"_options_compare_options").children,h;for(ind=0;void 0!=k[ind]&&void 0==h;ind++)k[ind].selected&&(h=k[ind].value);var m,o;"PrevPeriod"==h?(o=new Date(e.min),m=new Date(e.min-(e.max-e.min))):"PrevYear"==h&&(m=new Date(e.min),m=new Date(m.setFullYear(m.getFullYear()-1)),o=new Date(e.max),o=new Date(o.setFullYear(o.getFullYear()-1)));m=m.getTime();o=o.getTime();if(zoom=O(c+"_Zoom_0m"))zoom.style.display="none"}else if(zoom=O(c+"_Zoom_0m"))zoom.style.display="";$.each(a,function(a,b){for(var c=
[];b.series.length>0;){b.options.qv.colorIndexesUsed||c.push(b.series[0].colorIndex);b.series[0].remove(true)}if(!b.options.qv.colorIndexesUsed)b.options.qv.colorIndexesUsed=c});var k=0,r;for(r in d.Chart.Series.ByName){var p=d.Chart.Series.ByName[r],q,n;g(d)?(q=a[k],n=q.options.qv.colorIndexesUsed[0]):(q=b,n=q.options.qv.colorIndexesUsed[k]);var t={turboThreshold:0};t.colorIndex=n;t.id=r+"1";t.name=r;t.data=[];if(f){var s={className:"highcharts-dashed-series-line",turboThreshold:0};s.colorIndex=
n;s.id=r+"2";s.name=r;s.data=[]}n=document.getElementById(c+"_options_group_options").value;p=A(d.Chart.Categories,p.Points,Q(d),p.Aggregation,n);for(i=0;i<p.length;i++){n=p[i].y;var u=new gx.date.gxdate(p[i].x,"Y4MD"),x=p[i].name,v=u.Value.getTime()-6E4*u.Value.getTimezoneOffset(),u=u.Value.getTime()-6E4*u.Value.getTimezoneOffset();if(f){var w=!1,y=!1;v<=e.max&&v>=e.min&&(w=!0);if(v<=o&&v>=m){var y=!0,z=new Date(v),F;"PrevPeriod"==h?F="1m"==q.options.qv.predef_zoom?z.setMonth(z.getMonth()+1):"2m"==
q.options.qv.predef_zoom?z.setMonth(z.getMonth()+2):"3m"==q.options.qv.predef_zoom?z.setMonth(z.getMonth()+3):"6m"==q.options.qv.predef_zoom?z.setMonth(z.getMonth()+6):"12m"==q.options.qv.predef_zoom?z.setFullYear(z.getFullYear()+1):F+(e.max-e.min):"PrevYear"==h&&(F=z.setFullYear(z.getFullYear()+1))}w&&(w={},w.x=v,w.y=n,w.name=x,t.data.push(w));y&&(w={},w.x=F,w.y=n,w.name=x,w.real_x=u,s.data.push(w))}else t.data.push({x:v,y:n,name:x})}q.addSeries(t);f&&q.addSeries(s);k++}}function Ha(a,b){if(a.length<
b)return 0;var c=(a[a.length-1].x-a[a.length-b].x)/1E3/3600/24/(365/12);return 1>=c?1:2>=c?2:3>=c?3:6>=c?6:12}function Ia(a,b){function c(a,b,d,f,e,g,l,k,h){var m=b.userControlId(),a=qv.util.dom.createSelect(a,da(m)+"_group_options");"datetime"==Q(b)&&(qv.util.dom.createOption(a,"Seconds","Seconds"==b._groupOption,gx.getMessage("GXPL_QViewerSeconds")),h&&(qv.util.dom.createOption(a,"Minutes","Minutes"==b._groupOption,gx.getMessage("GXPL_QViewerMinutes")),k&&qv.util.dom.createOption(a,"Hours","Hours"==
b._groupOption,gx.getMessage("GXPL_QViewerHours"))));if(x||"date"==Q(b))qv.util.dom.createOption(a,"Days","Days"==b._groupOption,gx.getMessage("GXPL_QViewerDays")),l&&(qv.util.dom.createOption(a,"Weeks","Weeks"==b._groupOption,gx.getMessage("GXPL_QViewerWeeks")),g&&(qv.util.dom.createOption(a,"Months","Months"==b._groupOption,gx.getMessage("GXPL_QViewerMonths")),e&&(qv.util.dom.createOption(a,"Quarters","Quarters"==b._groupOption,gx.getMessage("GXPL_QViewerQuarters")),f&&(qv.util.dom.createOption(a,
"Semesters","Semesters"==b._groupOption,gx.getMessage("GXPL_QViewerSemesters")),d&&qv.util.dom.createOption(a,"Years","Years"==b._groupOption,gx.getMessage("GXPL_QViewerYears"))))));return a}var d=a[0];ba=d.options.qv.viewerId;var f=qv.collection[ba],e=document.getElementById(da(ba)),g=document.getElementById(ba+"_footer"),k=d.get("xaxis").getExtremes(),h=k.dataMax-k.dataMin;$.each(a,function(a,b){b.options.qv.dataMax=k.dataMax;b.options.qv.dataMin=k.dataMin});var m=2628288E3<h,o=5255712E3<h,r=7884E6<
h,p=15768E6<h,h=31536E6<h;f._groupOption=f._groupOption||("date"==Q(f)?"Days":"Seconds");var q=new gx.date.gxdate(""),n=new gx.date.gxdate("");q.Value.setTime(k.dataMin+6E4*q.Value.getTimezoneOffset());n.Value.setTime(k.dataMax+6E4*n.Value.getTimezoneOffset());var t=!0,s=!0,w=!0,u=!0,v=!0,x=!0,z=!0,A=!0;gx.date.year(q)==gx.date.year(n)&&(t=!1,6>=gx.date.month(q)&&7<=gx.date.month(n)||(s=!1,3>=gx.date.month(q)&&4<=gx.date.month(n)||(6>=gx.date.month(q)&&7<=gx.date.month(n)||9>=gx.date.month(q)&&10<=
gx.date.month(n))||(w=!1,gx.date.month(q)==gx.date.month(n)&&(u=!1,gx.date.day(q)-gx.date.dow(q)==gx.date.day(n)-gx.date.dow(n)&&(v=!1,gx.date.day(q)==gx.date.day(n)&&(x=!1,gx.date.hour(q)==gx.date.hour(n)&&(z=!1,gx.date.minute(q)==gx.date.minute(n)&&(A=!1))))))));(function(a,b,d,f,e,g,l,k,h,m,o,r,q,n){function p(a){return qv.util.dom.createDiv(a,"","QVTimelineHeaderGroup","",{height:xa+"px",flexGrow:1},"")}function t(a,b,c){return qv.util.dom.createAnchor(a,c,{cursor:"pointer",paddingLeft:"6px"},
b)}var s=b.userControlId(),a=qv.util.dom.createDiv(a,"","QVTimelineHeader","",{display:"flex",flexDirection:"row",flexWrap:"wrap"},""),w=p(a),u=p(a),v=p(a),w=qv.util.dom.createDiv(w,"","","",{"float":"left"},"");qv.util.dom.createText(w,gx.getMessage("GXPL_QViewerJSChartZoom"));if(d){t(w,gx.getMessage("GXPL_QViewerJSChartZoomLevelToOneMonth"),s+"_Zoom_1m");if(f){t(w,gx.getMessage("GXPL_QViewerJSChartZoomLevelToTwoMonth"),s+"_Zoom_2m");if(e){t(w,gx.getMessage("GXPL_QViewerJSChartZoomLevelToThreeMonth"),
s+"_Zoom_3m");if(g){t(w,gx.getMessage("GXPL_QViewerJSChartZoomLevelToSixMonth"),s+"_Zoom_6m");l&&t(w,gx.getMessage("GXPL_QViewerJSChartZoomLevelToOneYear"),s+"_Zoom_12m")}}}}t(w,gx.getMessage("GXPL_QViewerJSChartZoomLevelToAll"),s+"_Zoom_0m");d=qv.util.dom.createDiv(u,"","","",{"float":"right",paddingLeft:"12px"},"");qv.util.dom.createSpan(d,da(s)+"_groupby_text","","",{whiteSpace:"nowrap",paddingRight:"6px"},null,gx.getMessage("GXPL_QViewerGroupBy"));c(d,b,k,h,m,o,r,q,n);b=qv.util.dom.createDiv(v,
"","","",{"float":"right",paddingLeft:"12px"},"");qv.util.dom.createInput(b,da(s)+"_compare_enable","checkbox",{verticalAlign:"sub"});qv.util.dom.createSpan(b,da(s)+"_compare_text","","",{whiteSpace:"nowrap",paddingRight:"6px",paddingLeft:"6px"},null,gx.getMessage("GXPL_QViewerCompareWith"));s=qv.util.dom.createSelect(b,da(s)+"_compare_options");qv.util.dom.createOption(s,"PrevPeriod",false,gx.getMessage("GXPL_QViewerPreviousPeriod"));qv.util.dom.createOption(s,"PrevYear",false,gx.getMessage("GXPL_QViewerPreviousYear"));
return a})(e,f,m,o,r,p,h,t,s,w,u,v,z,A);Fa(g,ba);Ea(ba);gx.dom.el(e.id+"_compare_enable").onclick=function(){ma(a)};gx.dom.el(e.id+"_compare_options").onchange=function(){gx.dom.el(e.id+"_compare_enable").checked&&ma(a)};gx.dom.el(e.id+"_group_options").onchange=function(){ma(a)};var g=function(b){var c=gx.dom.el(e.id+"_compare_enable").checked;if(b>0){var f,g;g=d.get("xaxis").getExtremes().dataMax;f=g-b*2628028800;var k=c?false:true;$.each(a,function(a,b){b.get("xaxis").setExtremes(f,g,k)});var h=
d.options.qv;sa(d.options.qv.viewerId,(f-h.dataMin)/(h.dataMax-h.dataMin)*100,(g-h.dataMin)/(h.dataMax-h.dataMin)*100);Aa(d.options.qv.viewerId,true)}else{$.each(a,function(a,b){b.zoomOut()});Aa(d.options.qv.viewerId,false)}L(ea,"none");L(this.id,"underline");$.each(a,function(a,c){c.options.qv.predef_zoom=b+"m"});ea=this.id;c&&ma(a)},m=[0,1,2,3,6,12],y;for(y in m)if(o=m[y],r=gx.dom.el(ba+"_Zoom_"+o+"m"))r.onclick=g.closure(r,[o]);y=Ha(d.series[0].points,20);za(y);f=Ga(f,b);new Highcharts.Chart(f)}
function Ja(b){var d=qv.collection[b.options.qv.viewerId];if(!c(d)){var f=d.SelectionAllowed(),e=!1;if(d.ItemClick)for(var g=0;g<d.Metadata.Axes.length;g++)if(d.Metadata.Axes[g].RaiseItemClick){e=!0;break}(e||f)&&jQuery.each(b.xAxis[0].ticks,function(c,d){d&&d.label&&(e&&d.label.addClass("gx-qv-clickable-element"),d.label.on("click",function(){var g=e,h=qv.collection[b.options.qv.viewerId],m=!1;f&&!a(h)&&(m=r(h.Charts,d.pos));g&&(g=1==h.Chart.Categories.DataFields.length?fa(h,h.Chart.Categories.DataFields[0]).Name:
"",k(h.ItemClickData,h,g,"Row",d.label.textStr,m,h.Data.Rows[c]),h.ItemClick())}))})}}var ea=null,ba=null,xa=35,Y=50,Z=10,Ca=0,T="",qa=0,va=0,wa=0,ra=0,W=!1,V=!1,la=!1;return{tryToRenderChart:function(b){var c="";(new Date).getTime();b.xml=b.xml||{};qv.services.GetRecordsetCacheKeyIfNeeded(b,function(b,d){var f=!1;b!=d.xml.recordsetCacheKey&&(d.xml.recordsetCacheKey=b,f=!0);qv.util.anyError(b)?(c=qv.util.getErrorFromText(b),qv.util.renderError(d,c)):(f&&qv.services.parseRecordsetCacheKeyXML(d),qv.services.GetMetadataIfNeeded(d,
function(b,d){var f=false;if(b!=d.xml.metadata){d.xml.metadata=b;f=true}(new Date).getTime();if(qv.util.anyError(b)){c=qv.util.getErrorFromText(b);qv.util.renderError(d,c)}else{f&&qv.services.parseMetadataXML(d);qv.services.GetDataIfNeeded(d,function(b,d){var f=false;if(b!=d.xml.data){d.xml.data=b;f=true}(new Date).getTime();if(qv.util.anyError(b)){c=qv.util.getErrorFromText(b);qv.util.renderError(d,c)}else{f&&qv.services.parseDataXML(d);f=qv.util.GetContainerControlClasses(d);f!=""&&qv.util.SetUserControlClass(d,
f);f=w(d);if(f==""){var e=d.userControlId(),f=qv.util.dom.getEmptyContainer(d);if((a(d)||g(d))&&f.offsetHeight==0)f.style.height="400px";if(a(d)){qv.util.dom.createDiv(f,da(e),"QVTimelineHeaderContainer","",{width:"100%",height:xa+"px"},"");var l=qv.util.dom.createDiv(f,ia(e),"","",{width:"100%",height:"calc(100% - "+xa+"px - "+Y+"px)"},"");qv.util.dom.createDiv(f,e+"_footer","gx-qv-footer","",{width:"100%",height:Y+"px"},"");f.style.padding=DEFAULTCHARTSPACING+"px";f=l}if(g(d))for(var l=d.Chart.Series.DataFields.length,
k=parseInt(100/l),h=100%l,e=a(d)?ia(e):e,m=0;m<l;m++)qv.util.dom.createDiv(f,e+"_chart"+m.toString(),"","",{width:"100%",height:(k+(m<h?1:0)).toString()+"%"},"");f=[];if(g(d)){var l=0,o;for(o in d.Chart.Series.ByName){k=ya(d,d.Chart.Series.ByName[o],l);f.push(k);l++}}else{k=ya(d,null,null);f.push(k)}if(d.RealChartType=="CircularGauge"){o=M(d);o.insertRule("#"+d.ContainerName+" .highcharts-tooltip-box {fill: none !important; stroke-width: 0 !important; }",o.cssRules.length)}Highcharts.setOptions({lang:{months:[gx.getMessage("GXPL_QViewerJanuary"),
gx.getMessage("GXPL_QViewerFebruary"),gx.getMessage("GXPL_QViewerMarch"),gx.getMessage("GXPL_QViewerApril"),gx.getMessage("GXPL_QViewerMay"),gx.getMessage("GXPL_QViewerJune"),gx.getMessage("GXPL_QViewerJuly"),gx.getMessage("GXPL_QViewerAugust"),gx.getMessage("GXPL_QViewerSeptember"),gx.getMessage("GXPL_QViewerOctober"),gx.getMessage("GXPL_QViewerNovember"),gx.getMessage("GXPL_QViewerDecember")],weekdays:[gx.getMessage("GXPL_QViewerSunday"),gx.getMessage("GXPL_QViewerMonday"),gx.getMessage("GXPL_QViewerTuesday"),
gx.getMessage("GXPL_QViewerWednesday"),gx.getMessage("GXPL_QViewerThursday"),gx.getMessage("GXPL_QViewerFriday"),gx.getMessage("GXPL_QViewerSaturday")],shortMonths:[gx.getMessage("GXPL_QViewerJanuary").substring(0,3),gx.getMessage("GXPL_QViewerFebruary").substring(0,3),gx.getMessage("GXPL_QViewerMarch").substring(0,3),gx.getMessage("GXPL_QViewerApril").substring(0,3),gx.getMessage("GXPL_QViewerMay").substring(0,3),gx.getMessage("GXPL_QViewerJune").substring(0,3),gx.getMessage("GXPL_QViewerJuly").substring(0,
3),gx.getMessage("GXPL_QViewerAugust").substring(0,3),gx.getMessage("GXPL_QViewerSeptember").substring(0,3),gx.getMessage("GXPL_QViewerOctober").substring(0,3),gx.getMessage("GXPL_QViewerNovember").substring(0,3),gx.getMessage("GXPL_QViewerDecember").substring(0,3)],numericSymbols:null}});o=[];for(l=0;l<f.length;l++){HCChart=new Highcharts.Chart(f[l],Ja);o.push(HCChart)}d.Charts=o;a(d)&&Ia(o,f);d._ControlRenderedTo=d.RealType;qv.util.hideActivityIndicator(d)}else qv.util.renderError(d,f)}})}}))})},
GetMetadataChart:function(a){return qv.util.GetDesigntimeMetadata(a)},GetDataChart:function(a){return a.xml.data},getSparklineChartOptions:function(a,b,c,d,f,e){a={chart:{}};a.chart.renderTo=b;a.chart.margin=0;a.chart.type=c;d&&(a.chart.className="highcharts-no-background");a.title={};a.title.text="";a.credits={};a.credits.enabled=!1;a.xAxis={};a.xAxis.visible=!1;a.yAxis={};a.yAxis.visible=!1;a.legend={};a.legend.enabled=!1;a.tooltip={};a.tooltip.enabled=!1;a.plotOptions={};a.plotOptions.series={};
a.plotOptions.series.animation=!1;a.plotOptions.series.connectNulls=!0;a.plotOptions.series.enableMouseTracking=!1;a.plotOptions.series.lineWidth=1;a.plotOptions.series.shadow=!1;a.plotOptions.series.states={};a.plotOptions.series.states.hover={};a.plotOptions.series.states.hover.lineWidth=1;a.plotOptions.series.marker={};a.plotOptions.series.marker.radius=0;a.plotOptions.series.marker.states={};a.plotOptions.series.marker.states.hover={};a.plotOptions.series.marker.states.hover.radius=2;""!=f&&(a.plotOptions.series.step=
f);a.series=[];for(b=0;b<e.length;b++)a.series.push(e[b]);return a},IsDatetimeXAxis:function(a){return c(a)},Select:function(a,b){for(var c=[],d=0;d<a.Data.Rows.length;d++){var f=a.Data.Rows[d],e=!0;for(j=0;j<b.length;j++){var g=b[j];if(f[g.DataField]&&qv.util.trim(f[g.DataField])!=qv.util.trim(g.Value)){e=!1;break}}e&&c.push(d)}if(0<c.length){d=a.Charts;for(f=0;f<d.length;f++)for(var e=d[f],g=!1,k=0;k<c.length;k++)for(var h=c[k],m=0;m<e.series.length;m++)e.series[m].points[h].select(!0,g),g||(g=
!0)}else q(a.Charts)},Deselect:function(a){q(a.Charts)}}}();
qv.card=function(){function a(a,b){for(var c={},d=0;d<a.length;d++){var e=a[d],g;g=e;for(var h=b,n=[],u=[],v=0;v<h.length;v++){var I=h[v],z;"Count"==g.Aggregation?(z=0,I=parseFloat(I[g.DataField])):"Average"==g.Aggregation?(z=parseFloat(I[g.DataField+"_N"]),I=parseFloat(I[g.DataField+"_D"])):(z=parseFloat(I[g.DataField]),I=1);n.push(z);u.push(I)}g=qv.util.aggregate(g.Aggregation,n,u).toString();c[e.DataField]=g}return c}function c(a,b){if(0!=a.ConditionalStyles.length)for(var c=0;c<a.ConditionalStyles.length;c++){var d=
a.ConditionalStyles[c];if(qv.util.satisfyStyle(b,d))return qv.util.css.parseStyle(d.StyleOrClass)}return qv.util.css.parseStyle(a.Style)}function e(a,b,c,d){function e(a,b){var c=gx.date.now(),d;switch(a){case "LastYear":d=gx.date.addyr(c,-1);break;case "LastSemester":d=gx.date.addmth(c,-6);break;case "LastQuarter":d=gx.date.addmth(c,-3);break;case "LastMonth":d=gx.date.addmth(c,-1);break;case "LastWeek":d=gx.date.dtadd(c,-604800);break;case "LastDay":d=gx.date.dtadd(c,-86400);break;case "LastHour":d=
gx.date.dtadd(c,-3600);break;case "LastMinute":d=gx.date.dtadd(c,-60);break;case "LastSecond":d=gx.date.dtadd(c,-1)}return qv.util.dateToString(d,"datetime"==b)}var g={};if(a.IncludeTrend)if("SinceTheBeginning"==a.TrendPeriod||""==a.TrendPeriod)g=0;else for(var h=e(a.TrendPeriod,d),g=a.Data.Rows.length-1,n=a.Data.Rows.length-2;0<=n&&!(a.Data.Rows[n][c]<h);n--)g=n;else g=a.Data.Rows.length-1;return g=function(a,b,c,d,f,e){var g=null,k=null,h=null,o=null,n=[],r={AnyTrend:!1};if(""!=c){for(var q=f.length-
1,p=0,s=0,u=0,v=0,x=0,fa=0,Q=null,ja=null;a<=q;a++)if(void 0!=f[a][c]&&void 0!=f[a][d]){var p=p+1,O=new gx.date.gxdate(f[a][c],"Y4MD"),L=parseFloat(f[a][d]);n.push({x:O.Value.getTime()-6E4*O.Value.getTimezoneOffset(),y:L});if(null==g&&null==k)k=g=L,h=f[a][c],o=f[a][c];else if(L>k&&(o=f[a][c],k=L),L<g)h=f[a][c],g=L;a>=b&&(null==Q&&null==ja&&(Q=O,ja=L),O="date"==e?gx.date.daysDiff(O,Q):gx.date.secDiff(O,Q),L-=ja,s+=O,u+=L,v+=O*L,x+=O*O,fa+=L*L)}r.AnyTrend=1<p;r.Slope=(p*v-s*u)/(p*x-s*s);r.Intercept=
(u-r.Slope*s)/p;r.R2=Math.pow((p*v-s*u)/Math.sqrt((p*x-s*s)*(p*fa-u*u)),2)}b={};b.LinearRegression=r;b.MinValue=g;b.MinWhen=h;b.MaxValue=k;b.MaxWhen=o;b.ChartSeriesData=n;return b}(a.IncludeSparkline||a.IncludeMaxAndMin?0:g,g,c,b.DataField,a.Data.Rows,d)}function b(b,c,d,e){function g(a,b){function c(a,b,d){var f=[];if(d)for(d=0;d<b.length;d++)f.push(b[d][a]);else f.push(b[b.length-1][a]);return f}for(var d=[],f=0;f<a.Metadata.Axes.length;f++){var e=a.Metadata.Axes[f];if(!e.IsComponent){var h={};
h.Name=e.Name;h.Values=c(e.DataField,a.Data.Rows,b);d.push(h)}}for(f=0;f<a.Metadata.Data.length;f++)e=a.Metadata.Data[f],e.IsComponent||(h={},h.Name=e.Name,h.Values=c(e.DataField,a.Data.Rows,b),d.push(h));return d}for(var h=null,n=0;n<c.Metadata.Data.length;n++)if(c.Metadata.Data[n].Name==d){h=c.Metadata.Data[n];break}null!=h&&(b.Name=h.Name,b.Axis="Data",d=e?a(c.Metadata.Data,c.Data.Rows):c.Data.Rows[c.Data.Rows.length-1],b.Value=d[h.DataField],b.Context=g(c,e))}function d(a,b){return a+"_card_sparkline_"+
b}function v(a,b,c){c=d(a.userControlId(),c);return qv.chart.getSparklineChartOptions(a,c,"line",!0,"",[{data:b}])}function u(a,b,c,d){var e={textAlign:"center",paddingTop:"0px",paddingRight:"5px",paddingBottom:"0px",paddingLeft:"5px"},a=qv.util.dom.createTable(a,"",{}),g;g=qv.util.dom.createRow(a);g=qv.util.dom.createCell(g,1,"",e,"");qv.util.dom.createSpan(g,"","qv-card-max-and-min-value",c,{},null,b);g=qv.util.dom.createRow(a);g=qv.util.dom.createCell(g,1,"",e,"");qv.util.dom.createSpan(g,"","qv-card-max-and-min-title",
c,{},null,d);return a}function g(a){var a=new gx.date.gxdate(a,"Y4MD"),b=gx.date.now(),a=gx.date.secDiff(b,a);return gx.getMessage("GXPL_QViewerTimeAgo").replace("{0}",qv.util.seconsdToText(a))}function h(a,b,c,d){""!=b?(d=qv.util.formatNumber(parseFloat(b),d,c.Picture,!1),b=qv.util.formatNumber(parseFloat(100*b/c.TargetValue),2,"ZZZZZZZZZZZZZZ9.99",!1)+"%"):b=d="";switch(a.ShowDataAs){case "Values":return d;case "Percentages":return b;case "ValuesAndPercentages":return d+" ("+b+")";default:return d}}
function n(b){function k(a,b,c){var c=0<c.LinearRegression.Slope?"keyboard_arrow_up":0>c.LinearRegression.Slope?"keyboard_arrow_down":"drag_handle",d;d=""==b.TrendPeriod?gx.getMessage("GXPL_QViewerSinceTheBeginningTrend"):gx.getMessage("GXPL_QViewer"+b.TrendPeriod+"Trend");var e={width:"0px",marginLeft:"5px"};b.IncludeSparkline||(e.position="relative",e.top="2px");e.fontSize="36px";return c=qv.util.dom.createIcon(a,d,e,c)}for(var n=0<b.Data.Rows.length,q=!0,p="",o,x=0;x<b.Metadata.Axes.length;x++){var s=
b.Metadata.Axes[x];if("date"==s.DataType||"datetime"==s.DataType){q=!1;p=s.DataField;o=s.DataType;break}}var F;n&&(F=q?a(b.Metadata.Data,b.Data.Rows):b.Data.Rows[b.Data.Rows.length-1]);var A=qv.util.dom.getEmptyContainer(b);s=b.IsAutoResize()?x="":x="100%";var x=qv.util.dom.createTable(A,qv.util.GetContainerControlClasses(b),{width:x,height:s}),x=qv.util.dom.createRow(x),A=qv.util.dom.createCell(x,1,"center",{},""),x="Horizontal"==b.Orientation?"100%":"",s="Vertical"==b.Orientation?"100%":"",A=qv.util.dom.createTable(A,
"",{width:x,height:s,whiteSpace:"nowrap"}),I;"Horizontal"==b.Orientation&&(I=qv.util.dom.createRow(A));s=[];for(x=0;x<b.Metadata.Data.length;x++){var z=b.Metadata.Data[x],m=qv.util.ParseNumericPicture(z.DataType,z.Picture).DecimalPrecision,G,D,y;n?(G=F[z.DataField],D=h(b,F[z.DataField],z,m),y=g(F[p])):y=D=G="";if((gx.lang.gxBoolean(b.IncludeTrend)||gx.lang.gxBoolean(b.IncludeSparkline)||gx.lang.gxBoolean(b.IncludeMaxAndMin))&&n){var w=e(b,z,p,o);s.push(w)}var t=c(z,G);G={};var M="qv-card-element-value";
qv.util.startsWith(t,"{")&&qv.util.endsWith(t,"}")?G=JSON.parse(t):M=t;t=null;b.ItemClick&&z.RaiseItemClick&&(M+=(""==M?"":" ")+"gx-qv-clickable-element",t=function(){qv.card.fireItemClickEvent(event,b,q)});"Vertical"==b.Orientation&&(I=qv.util.dom.createRow(A));var R="Horizontal"==b.Orientation?"10px":"",E="Vertical"==b.Orientation?"10px":"",R=qv.util.dom.createCell(I,1,"center",{paddingRight:R,paddingLeft:R,paddingBottom:E,paddingTop:E},""),R=qv.util.dom.createTable(R,"",{}),E=qv.util.dom.createRow(R),
E=qv.util.dom.createCell(E,1,"center",{},""),E=qv.util.dom.createTable(E,"",{}),E=qv.util.dom.createRow(E),K=qv.util.dom.createCell(E,1,"center",{},"");qv.util.dom.createSpan(K,b.getContainerControl().id+"_"+z.Name,M,""!=p?y:"",G,t,D);var K=qv.util.dom.createCell(E,1,"",{},"");n&&(b.IncludeTrend&&!b.IncludeSparkline&&w.LinearRegression.AnyTrend)&&k(K,b,w);E=qv.util.dom.createRow(R);E=qv.util.dom.createCell(E,1,"center",{},"");span1=qv.util.dom.createSpan(E,"","qv-card-element-title",""!=p?y:"",{},
null,z.Title);b.IncludeSparkline&&(""!=p&&n)&&(E=qv.util.dom.createRow(R),E=qv.util.dom.createCell(E,1,"",{},""),E=qv.util.dom.createTable(E,"",{width:"100%"}),E=qv.util.dom.createRow(E),K=qv.util.dom.createCell(E,1,"",{width:"100%"},""),qv.util.dom.createDiv(K,d(b.userControlId(),x),"","",{height:"50px",width:"100%",minWidth:"100px"},""),K=qv.util.dom.createCell(E,1,"",{width:"0%"},""),n&&(b.IncludeTrend&&w.LinearRegression.AnyTrend)&&k(K,b,w));b.IncludeMaxAndMin&&(""!=p&&n)&&(E=qv.util.dom.createRow(R),
E=qv.util.dom.createCell(E,1,"center",{},""),E=qv.util.dom.createTable(E,"",{"margin-top":"10px"}),E=qv.util.dom.createRow(E),K=qv.util.dom.createCell(E,1,"",{},""),u(K,h(b,w.MinValue,z,m),g(w.MinWhen),gx.getMessage("GXPL_QViewerCardMinimum")),K=qv.util.dom.createCell(E,1,"",{},""),u(K,h(b,w.MaxValue,z,m),g(w.MaxWhen),gx.getMessage("GXPL_QViewerCardMaximum")))}if(b.IncludeSparkline&&""!=p&&n)for(x=0;x<b.Metadata.Data.length;x++)n=v(b,s[x].ChartSeriesData,x),new Highcharts.Chart(n);b._ControlRenderedTo=
b.RealType;qv.util.hideActivityIndicator(b)}return{tryToRenderCard:function(a){var b="";(new Date).getTime();a.xml=a.xml||{};qv.services.GetRecordsetCacheKeyIfNeeded(a,function(a,c){var d=!1;a!=c.xml.recordsetCacheKey&&(c.xml.recordsetCacheKey=a,d=!0);qv.util.anyError(a)?(b=qv.util.getErrorFromText(a),qv.util.renderError(c,b)):(d&&qv.services.parseRecordsetCacheKeyXML(c),qv.services.GetMetadataIfNeeded(c,function(a,c){var d=false;if(a!=c.xml.metadata){c.xml.metadata=a;d=true}(new Date).getTime();
if(qv.util.anyError(a)){b=qv.util.getErrorFromText(a);qv.util.renderError(c,b)}else{d&&qv.services.parseMetadataXML(c);qv.services.GetDataIfNeeded(c,function(a,c){var d=false;if(a!=c.xml.data){c.xml.data=a;d=true}(new Date).getTime();if(qv.util.anyError(a)){b=qv.util.getErrorFromText(a);qv.util.renderError(c,b)}else{d&&qv.services.parseDataXML(c);n(c)}})}}))})},GetMetadataCard:function(a){return qv.util.GetDesigntimeMetadata(a)},GetDataCard:function(a){return a.xml.data},fireItemClickEvent:function(a,
c,d){a=a.target.id;a=a.substr(a.lastIndexOf("_")+1);b(c.ItemClickData,c,a,d);c.ItemClick()}}}();
